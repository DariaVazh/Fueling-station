(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[    140849,       2831]
NotebookOptionsPosition[    139533,       2800]
NotebookOutlinePosition[    139964,       2817]
CellTagsIndexPosition[    139921,       2814]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Functions", "Subsubsection",
 CellChangeTimes->{{3.9567458481397*^9, 
  3.9567458530580215`*^9}},ExpressionUUID->"f6e5f515-a0a9-1a4c-a002-\
55b3038487c8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "\:0418\:043d\:0438\:0446\:0438\:0430\:043b\:0438\:0437\:0430\:0446\:0438\
\:044f", " ", "\:0441\:0438\:0441\:0442\:0435\:043c\:044b"}], "*)"}], 
  RowBox[{
   RowBox[{"ClearAll", "[", 
    RowBox[{"initSystem", ",", "simulateSystem"}], "]"}], "\n", 
   RowBox[{
    RowBox[{"initSystem", "[", 
     RowBox[{
      RowBox[{"numColumns_Integer", "?", "Positive"}], ",", 
      "columnSides_List", ",", 
      RowBox[{"fillingSpeed_Integer", "?", "Positive"}], 
      RowBox[{"(*", 
       RowBox[{
       "\:043b\:0438\:0442\:0440\:044b", " ", "\:0432", " ", 
        "\:043c\:0438\:043d\:0443\:0442\:0443"}], "*)"}], ",", 
      RowBox[{"numCashiers_Integer", "?", "Positive"}], ",", "arrivals_List", 
      ",", "tankSides_List", ",", "fuelVolume_List", 
      RowBox[{"(*", "\:043b\:0438\:0442\:0440\:044b", "*)"}], ",", 
      "paymentTimes_List", ",", "paymentTypes_List", ",", "purchasesQ_List"}],
      "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "\:041f\:0440\:043e\:0432\:0435\:0440\:043a\:0438", " ", 
        "\:0432\:0445\:043e\:0434\:043d\:044b\:0445", " ", 
        "\:0434\:0430\:043d\:043d\:044b\:0445"}], "*)"}], 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "columnSides", "]"}], "!=", "numColumns"}], 
         ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<\:041e\:0448\:0438\:0431\:043a\:0430: \
\:041d\:0435\:0441\:043e\:043e\:0442\:0432\:0435\:0442\:0441\:0442\:0432\:0438\
\:0435 \:043a\:043e\:043b\:0438\:0447\:0435\:0441\:0442\:0432\:0430 \:043a\
\:043e\:043b\:043e\:043d\:043e\:043a \:0438 \:0438\:0445 \:043e\:043f\:0438\
\:0441\:0430\:043d\:0438\:0439\>\"", "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"Return", "[", "$Failed", "]"}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"fillingSpeed", "<=", "0"}], ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<\:041e\:0448\:0438\:0431\:043a\:0430: \
\:0421\:043a\:043e\:0440\:043e\:0441\:0442\:044c \:0437\:0430\:043f\:0440\
\:0430\:0432\:043a\:0438 \:0434\:043e\:043b\:0436\:043d\:0430 \:0431\:044b\
\:0442\:044c \:043f\:043e\:043b\:043e\:0436\:0438\:0442\:0435\:043b\:044c\
\:043d\:043e\:0439\>\"", "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"Return", "[", "$Failed", "]"}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"SameQ", "@@", 
           RowBox[{"(", 
            RowBox[{"Length", "/@", 
             RowBox[{"{", 
              RowBox[{
              "arrivals", ",", "tankSides", ",", "fuelVolume", ",", 
               "paymentTimes", ",", "paymentTypes", ",", "purchasesQ"}], 
              "}"}]}], ")"}]}]}], ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<\:041e\:0448\:0438\:0431\:043a\:0430: \
\:0414\:043b\:0438\:043d\:044b \:0432\:0445\:043e\:0434\:043d\:044b\:0445 \
\:0441\:043f\:0438\:0441\:043a\:043e\:0432 \:043d\:0435 \:0441\:043e\:0432\
\:043f\:0430\:0434\:0430\:044e\:0442\>\"", "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"Return", "[", "$Failed", "]"}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"paymentTypes", ",", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "===", "\"\<card\>\""}], "||", 
              RowBox[{"#", "===", "\"\<cash\>\""}]}], "&"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<\:041e\:0448\:0438\:0431\:043a\:0430: \
\:041d\:0435\:043a\:043e\:0440\:0440\:0435\:043a\:0442\:043d\:044b\:0435 \
\:0442\:0438\:043f\:044b \:043e\:043f\:043b\:0430\:0442\:044b (\:0434\:043e\
\:043b\:0436\:043d\:044b \:0431\:044b\:0442\:044c 'card' \:0438\:043b\:0438 \
'cash')\>\"", "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"Return", "[", "$Failed", "]"}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:0418\:043d\:0438\:0446\:0438\:0430\:043b\:0438\:0437\:0430\:0446\
\:0438\:044f", " ", 
         "\:043f\:0435\:0440\:0435\:043c\:0435\:043d\:043d\:044b\:0445"}], 
        "*)"}], 
       RowBox[{"$time", "=", "0"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$columns", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"<|", 
           RowBox[{
            RowBox[{"\"\<id\>\"", "->", "i"}], ",", 
            RowBox[{"\"\<side\>\"", "->", 
             RowBox[{"columnSides", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], ",", 
            RowBox[{"\"\<busyUntil\>\"", "->", 
             RowBox[{"-", "1"}]}], ",", 
            RowBox[{"\"\<idleTime\>\"", "->", "0"}], ",", 
            RowBox[{"\"\<busyTime\>\"", "->", "0"}]}], "|>"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "numColumns"}], "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$columnQueues", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", "}"}], ",", 
          RowBox[{"{", "numColumns", "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$cashiers", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"<|", 
           RowBox[{
            RowBox[{"\"\<id\>\"", "->", "i"}], ",", 
            RowBox[{"\"\<busyUntil\>\"", "->", 
             RowBox[{"-", "1"}]}], ",", 
            RowBox[{"\"\<idleTime\>\"", "->", "0"}], ",", 
            RowBox[{"\"\<busyTime\>\"", "->", "0"}]}], "|>"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "numCashiers"}], "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$cashierQueues", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", "}"}], ",", 
          RowBox[{"{", "numCashiers", "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$clientData", "=", 
        RowBox[{"Association", "[", "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"$nextClientID", "=", "1"}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:0412\:0445\:043e\:0434\:043d\:044b\:0435", " ", 
         "\:0434\:0430\:043d\:043d\:044b\:0435"}], "*)"}], 
       RowBox[{"$arrivals", "=", "arrivals"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$fuelTimes", "=", 
        RowBox[{"Ceiling", "[", 
         RowBox[{"fuelVolume", "/", "fillingSpeed"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$tankSides", "=", "tankSides"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$paymentTypes", "=", "paymentTypes"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$paymentTimes", "=", "paymentTimes"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$purchasesQ", "=", "purchasesQ"}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:0413\:043b\:043e\:0431\:0430\:043b\:044c\:043d\:044b\:0435", " ", 
         "\:043f\:0435\:0440\:0435\:043c\:0435\:043d\:043d\:044b\:0435", " ", 
         "\:0434\:043b\:044f", " ", 
         "\:0442\:0440\:0435\:043a\:0438\:043d\:0433\:0430"}], "*)"}], 
       RowBox[{"$maxQueueLength", "=", "0"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$maxQueueColumn", "=", "1"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$queueHistory", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", "}"}], ",", 
          RowBox[{"{", "numColumns", "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$maxQueueLengthCashier", "=", "0"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"$maxQueueCashier", "=", "1"}], ";", "\[IndentingNewLine]", 
       RowBox[{"$queueCashierHistory", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", "}"}], ",", 
          RowBox[{"{", "numCashiers", "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:0414\:043e\:043f\:043e\:043b\:043d\:0438\:0442\:0435\:043b\:044c\
\:043d\:044b\:0435", " ", 
         "\:043f\:0440\:043e\:0432\:0435\:0440\:043a\:0438"}], "*)"}], 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"AllTrue", "[", 
           RowBox[{"$fuelTimes", ",", 
            RowBox[{
             RowBox[{"#", ">", "0"}], "&"}]}], "]"}]}], ",", 
         RowBox[{
         "Print", "[", 
          "\"\<\:041f\:0440\:0435\:0434\:0443\:043f\:0440\:0435\:0436\:0434\
\:0435\:043d\:0438\:0435: \:041d\:0435\:043a\:043e\:0442\:043e\:0440\:044b\
\:0435 \:0432\:0440\:0435\:043c\:0435\:043d\:0430 \:0437\:0430\:043f\:0440\
\:0430\:0432\:043a\:0438 <= 0\>\"", "]"}]}], "]"}], ";"}]}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "Print", "[", 
        "\"\<\:0421\:0438\:0441\:0442\:0435\:043c\:0430 \:0438\:043d\:0438\
\:0446\:0438\:0430\:043b\:0438\:0437\:0438\:0440\:043e\:0432\:0430\:043d\:0430\
:\>\"", "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<\:041a\:043e\:043b\:043e\:043d\:043e\:043a: \>\"", ",", 
         "numColumns", ",", 
         "\"\<, \:041a\:0430\:0441\:0441\:0438\:0440\:043e\:0432: \>\"", ",", 
         "numCashiers"}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<\:041a\:043b\:0438\:0435\:043d\:0442\:043e\:0432: \>\"", ",", 
         RowBox[{"Length", "[", "arrivals", "]"}]}], "]"}], ";"}], "*)"}], 
     "]"}]}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "\:041f\:043e\:0438\:0441\:043a", " ", 
     "\:043a\:043e\:043b\:043e\:043d\:043a\:0438", " ", "\:0434\:043b\:044f", 
     " ", "\:043c\:0430\:0448\:0438\:043d\:044b"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"findColumnForTank", "[", "tankSide_", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", "available", "}"}], ",", 
       RowBox[{
        RowBox[{"available", "=", 
         RowBox[{"Flatten", "@", 
          RowBox[{"Position", "[", 
           RowBox[{
            RowBox[{"$columns", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", "\"\<side\>\""}], "]"}], "]"}], ",", 
            "tankSide"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"available", "!=", 
           RowBox[{"{", "}"}]}], ",", 
          RowBox[{"RandomChoice", "[", "available", "]"}]}], "]"}]}]}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "\:041e\:0431\:0440\:0430\:0431\:043e\:0442\:043a\:0430", " ", 
     "\:043d\:043e\:0432\:044b\:0445", " ", 
     "\:043a\:043b\:0438\:0435\:043d\:0442\:043e\:0432"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"processNewClients", "[", "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"clientID", ",", "col"}], "}"}], ",", 
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "$arrivals", "]"}], ">", "0"}], "&&", 
         RowBox[{
          RowBox[{"$arrivals", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "==", "$time"}]}], ",", 
        RowBox[{
         RowBox[{"clientID", "=", 
          RowBox[{"$nextClientID", "++"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "\:0421\:043e\:0437\:0434\:0430\:0435\:043c", " ", 
           "\:0437\:0430\:043f\:0438\:0441\:044c", " ", 
           "\:043a\:043b\:0438\:0435\:043d\:0442\:0430"}], "*)"}], 
         RowBox[{
          RowBox[{"$clientData", "[", "clientID", "]"}], "=", 
          RowBox[{"<|", 
           RowBox[{
            RowBox[{"\"\<arrival\>\"", "->", 
             RowBox[{"$arrivals", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"\"\<fuelTime\>\"", "->", 
             RowBox[{"$fuelTimes", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"\"\<tankSide\>\"", "->", 
             RowBox[{"$tankSides", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"\"\<paymentType\>\"", "->", 
             RowBox[{"$paymentTypes", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"\"\<status\>\"", "->", "\"\<waiting_for_fuel\>\""}], ",", 
            RowBox[{"\"\<column\>\"", "->", "Null"}], ",", 
            RowBox[{"\"\<cashier\>\"", "->", "Null"}], ",", 
            RowBox[{"\"\<fuelStart\>\"", "->", 
             RowBox[{"-", "1"}]}], ",", 
            RowBox[{"\"\<fuelEnd\>\"", "->", 
             RowBox[{"-", "1"}]}], ",", 
            RowBox[{"\"\<paymentStart\>\"", "->", 
             RowBox[{"-", "1"}]}], ",", 
            RowBox[{"\"\<paymentEnd\>\"", "->", 
             RowBox[{"-", "1"}]}]}], "|>"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "\:041d\:0430\:0437\:043d\:0430\:0447\:0430\:0435\:043c", " ", 
           "\:043a\:043e\:043b\:043e\:043d\:043a\:0443"}], "*)"}], 
         RowBox[{"col", "=", 
          RowBox[{"findColumnForTank", "[", 
           RowBox[{"$tankSides", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"IntegerQ", "[", "col", "]"}], "&&", 
            RowBox[{"1", "<=", "col", "<=", 
             RowBox[{"Length", "[", "$columns", "]"}]}]}], ",", 
           RowBox[{"(*", 
            RowBox[{
            "\:0423\:0441\:043f\:0435\:0448\:043d\:043e\:0435", " ", 
             "\:043d\:0430\:0437\:043d\:0430\:0447\:0435\:043d\:0438\:0435", 
             " ", "\:043a\:043e\:043b\:043e\:043d\:043a\:0438"}], "*)"}], 
           RowBox[{
            RowBox[{"AppendTo", "[", 
             RowBox[{
              RowBox[{"$columnQueues", "[", 
               RowBox[{"[", "col", "]"}], "]"}], ",", "clientID"}], "]"}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"$clientData", "[", "clientID", "]"}], "=", 
             RowBox[{"Merge", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"$clientData", "[", "clientID", "]"}], ",", 
                 RowBox[{"<|", 
                  RowBox[{
                   RowBox[{"\"\<column\>\"", "->", "col"}], ",", 
                   RowBox[{
                   "\"\<status\>\"", "->", "\"\<in_column_queue\>\""}]}], 
                  "|>"}]}], "}"}], ",", "Last"}], "]"}]}]}], ",", 
           RowBox[{"(*", 
            RowBox[{
            "\:041e\:0448\:0438\:0431\:043a\:0430", " ", 
             "\:043d\:0430\:0437\:043d\:0430\:0447\:0435\:043d\:0438\:044f"}],
             "*)"}], 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
              "\"\<status\>\"", "]"}], "=", "\"\<error_no_column\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"Print", "[", 
             RowBox[{
             "\"\<ERROR: \:041d\:0435 \:043d\:0430\:0439\:0434\:0435\:043d\
\:0430 \:043a\:043e\:043b\:043e\:043d\:043a\:0430 (\:0441\:0442\:043e\:0440\
\:043e\:043d\:0430: \>\"", ",", 
              RowBox[{"$tankSides", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ",", 
              "\"\<) \:0434\:043b\:044f \:043a\:043b\:0438\:0435\:043d\:0442\
\:0430 \>\"", ",", "clientID"}], "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "\:0423\:0434\:0430\:043b\:044f\:0435\:043c", " ", 
           "\:043e\:0431\:0440\:0430\:0431\:043e\:0442\:0430\:043d\:043d\:044b\
\:0435", " ", "\:0434\:0430\:043d\:043d\:044b\:0435"}], "*)"}], 
         RowBox[{"$arrivals", "=", 
          RowBox[{"Rest", "[", "$arrivals", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"$fuelTimes", "=", 
          RowBox[{"Rest", "[", "$fuelTimes", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"$tankSides", "=", 
          RowBox[{"Rest", "[", "$tankSides", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"$paymentTypes", "=", 
          RowBox[{"Rest", "[", "$paymentTypes", "]"}]}]}]}], "]"}]}], "]"}]}],
    "\n", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getOptimalCashier", "[", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"queueInfo", ",", "minQueue", ",", "candidates"}], "}"}], ",", 
       RowBox[{"(*", 
        RowBox[{
        "1.", " ", "\:0421\:043e\:0431\:0438\:0440\:0430\:0435\:043c", " ", 
         "\:0438\:043d\:0444\:043e\:0440\:043c\:0430\:0446\:0438\:044e", " ", 
         "\:043e", " ", "\:043a\:0430\:0441\:0441\:0438\:0440\:0430\:0445"}], 
        "*)"}], 
       RowBox[{
        RowBox[{"queueInfo", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"i", ",", 
             RowBox[{"Length", "[", 
              RowBox[{"$cashierQueues", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
             RowBox[{"Boole", "[", 
              RowBox[{
               RowBox[{"$cashiers", "[", 
                RowBox[{"[", 
                 RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "!=", 
               RowBox[{"-", "1"}]}], "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", 
             RowBox[{"Length", "[", "$cashiers", "]"}]}], "}"}]}], "]"}]}], 
        ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "2.", " ", "\:0412\:044b\:0447\:0438\:0441\:043b\:044f\:0435\:043c", 
          " ", "\:043e\:0431\:0449\:0438\:0439", " ", 
          "\"\<\:0432\:0435\:0441\>\"", " ", 
          "\:043e\:0447\:0435\:0440\:0435\:0434\:0438", " ", 
          RowBox[{"(", 
           RowBox[{
           "\:043e\:0447\:0435\:0440\:0435\:0434\:044c", "+", 
            "\:0437\:0430\:043d\:044f\:0442\:043e\:0441\:0442\:044c"}], 
           ")"}]}], "*)"}], 
        RowBox[{"queueInfo", "=", 
         RowBox[{"Map", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ",", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "+", 
               RowBox[{"#", "[", 
                RowBox[{"[", "3", "]"}], "]"}]}]}], "}"}], "&"}], ",", 
           "queueInfo"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "3.", " ", "\:041d\:0430\:0445\:043e\:0434\:0438\:043c", " ", 
          "\:043c\:0438\:043d\:0438\:043c\:0430\:043b\:044c\:043d\:044b\:0439\
", " ", "\:0432\:0435\:0441"}], "*)"}], 
        RowBox[{"minQueue", "=", 
         RowBox[{"Min", "[", 
          RowBox[{"queueInfo", "[", 
           RowBox[{"[", 
            RowBox[{"All", ",", "2"}], "]"}], "]"}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "4.", " ", "\:0412\:044b\:0431\:0438\:0440\:0430\:0435\:043c", " ", 
          "\:0432\:0441\:0435\:0445", " ", 
          "\:043a\:0430\:0441\:0441\:0438\:0440\:043e\:0432", " ", "\:0441", 
          " ", "\:043c\:0438\:043d\:0438\:043c\:0430\:043b\:044c\:043d\:044b\
\:043c", " ", "\:0432\:0435\:0441\:043e\:043c"}], "*)"}], 
        RowBox[{"candidates", "=", 
         RowBox[{
          RowBox[{"Select", "[", 
           RowBox[{"queueInfo", ",", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "==", "minQueue"}], "&"}]}], 
           "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"All", ",", "1"}], "]"}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "5.", " ", 
          "\:0412\:043e\:0437\:0432\:0440\:0430\:0449\:0430\:0435\:043c", " ",
           "\:0441\:043b\:0443\:0447\:0430\:0439\:043d\:043e\:0433\:043e", 
          " ", "\:043a\:0430\:0441\:0441\:0438\:0440\:0430", " ", 
          "\:0438\:0437", " ", 
          "\:043a\:0430\:043d\:0434\:0438\:0434\:0430\:0442\:043e\:0432", " ",
           "\:0438\:043b\:0438", " ", "Null"}], "*)"}], 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"candidates", "===", 
           RowBox[{"{", "}"}]}], ",", "Null", ",", 
          RowBox[{"RandomChoice", "[", "candidates", "]"}]}], "]"}]}]}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "\:0424\:0443\:043d\:043a\:0446\:0438\:044f", " ", 
     "\:043e\:0442\:043e\:0431\:0440\:0430\:0436\:0435\:043d\:0438\:044f", 
     " ", "\:043e\:043a\:043d\:0430"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"showStatsWindow", "[", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"grid", ",", "content"}], "}"}], ",", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", "$simulationStats", "]"}], "==", "0"}], ",", 
          RowBox[{"Return", "[", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "\:0417\:0430\:043a\:0440\:044b\:0432\:0430\:0435\:043c", " ", 
          "\:043f\:0440\:0435\:0434\:044b\:0434\:0443\:0449\:0435\:0435", " ",
           "\:043e\:043a\:043d\:043e"}], "*)"}], 
        RowBox[{"closeStatsWindow", "[", "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "\:0421\:043e\:0437\:0434\:0430\:0435\:043c", " ", 
          "\:043d\:043e\:0432\:0443\:044e", " ", 
          "\:0442\:0430\:0431\:043b\:0438\:0446\:0443"}], "*)"}], 
        RowBox[{"grid", "=", 
         RowBox[{"Grid", "[", 
          RowBox[{
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{
               "\"\<\:2116\>\"", ",", 
                "\"\<\:041f\:0440\:043e\:0444\:0438\:043b\:044c\>\"", ",", 
                "\"\<\:0412\:0440\:0435\:043c\:044f\>\"", ",", 
                "\"\<\:041a\:043b\:0438\:0435\:043d\:0442\:044b\>\"", ",", 
                "\"\<\:041a\:043e\:043b\:043e\:043d\:043a\:0438\>\"", ",", 
                "\"\<\:041a\:0430\:0441\:0441\:0438\:0440\:044b\>\"", ",", 
                "\"\<\:041c\:0430\:043a\:0441. \:043f\:0440\:043e\:0441\:0442\
\:043e\:0439 \:043a\:043e\:043b\:043e\:043d\:043e\:043a\>\"", ",", 
                "\"\<\:041c\:0430\:043a\:0441. \:043f\:0440\:043e\:0441\:0442\
\:043e\:0439 \:043a\:0430\:0441\:0441\:0438\:0440\:043e\:0432\>\""}], "}"}], 
              "}"}], ",", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<Profile\>\"", 
                  "]"}], ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<Time\>\"", "]"}],
                  ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<Clients\>\"", 
                  "]"}], ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<Columns\>\"", 
                  "]"}], ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", "\"\<Cashiers\>\"", 
                  "]"}], ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", 
                  "\"\<MaxColumnIdle\>\"", "]"}], ",", 
                 RowBox[{
                  RowBox[{"$simulationStats", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "[", 
                  "\"\<MaxCashierIdle\>\"", "]"}]}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"Length", "[", "$simulationStats", "]"}]}], "}"}]}], 
              "]"}]}], "]"}], ",", 
           RowBox[{"Frame", "->", "All"}], ",", 
           RowBox[{"Background", "->", 
            RowBox[{"{", 
             RowBox[{"None", ",", 
              RowBox[{"{", 
               RowBox[{"LightBlue", ",", 
                RowBox[{"{", 
                 RowBox[{"LightGray", ",", "None"}], "}"}]}], "}"}]}], 
             "}"}]}], ",", 
           RowBox[{"Alignment", "->", "Center"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "\:0421\:043e\:0437\:0434\:0430\:0435\:043c", " ", 
          "\:0441\:043e\:0434\:0435\:0440\:0436\:0438\:043c\:043e\:0435", " ",
           "\:043e\:043a\:043d\:0430"}], "*)"}], 
        RowBox[{"content", "=", 
         RowBox[{"Panel", "[", 
          RowBox[{
           RowBox[{"Column", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{
               "\"\<\:0418\:0441\:0442\:043e\:0440\:0438\:044f \:0441\:0438\
\:043c\:0443\:043b\:044f\:0446\:0438\:0439\>\"", ",", "Bold", ",", "16"}], 
               "]"}], ",", "grid"}], "}"}], "]"}], ",", 
           RowBox[{"ImageSize", "->", 
            RowBox[{"{", 
             RowBox[{"500", ",", "500"}], "}"}]}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "\:0421\:043e\:0437\:0434\:0430\:0435\:043c", " ", 
          "\:043d\:043e\:0432\:043e\:0435", " ", "\:043e\:043a\:043d\:043e"}],
          "*)"}], 
        RowBox[{"$statsWindow", "=", 
         RowBox[{"CreateDocument", "[", 
          RowBox[{"content", ",", 
           RowBox[{
           "WindowTitle", "->", 
            "\"\<\:0421\:0442\:0430\:0442\:0438\:0441\:0442\:0438\:043a\:0430 \
\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:0439\>\""}], ",", 
           RowBox[{"WindowSize", "->", "All"}], ",", 
           RowBox[{"WindowElements", "->", 
            RowBox[{"{", "}"}]}], ",", 
           RowBox[{"WindowFrame", "->", "\"\<Generic\>\""}], ",", 
           RowBox[{"WindowFloating", "->", "True"}], ",", 
           RowBox[{"Visible", "->", "True"}]}], "]"}]}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "\:0424\:0443\:043d\:043a\:0446\:0438\:044f", " ", 
     "\:0437\:0430\:043a\:0440\:044b\:0442\:0438\:044f", " ", 
     "\:043e\:043a\:043d\:0430"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"closeStatsWindow", "[", "]"}], ":=", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Head", "[", "$statsWindow", "]"}], "===", "NotebookObject"}],
        ",", 
       RowBox[{
        RowBox[{"Quiet", "@", 
         RowBox[{"NotebookClose", "[", "$statsWindow", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"$statsWindow", "=", "Null"}]}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "\:0424\:0443\:043d\:043a\:0446\:0438\:044f", " ", "\:0434\:043b\:044f", 
     " ", "\:0432\:044b\:0432\:043e\:0434\:0430", " ", 
     "\:043b\:0443\:0447\:0448\:0435\:0433\:043e", " ", 
     "\:0440\:0435\:0437\:0443\:043b\:044c\:0442\:0430\:0442\:0430", " ", 
     "\:043f\:043e", " ", 
     "\:043c\:0438\:043d\:0438\:043c\:0430\:043b\:044c\:043d\:043e\:043c\:0443\
", " ", "\:043f\:0440\:043e\:0441\:0442\:043e\:044e"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"showBestSimulation", "[", "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"bestSim", ",", "stats"}], "}"}], ",", 
      RowBox[{"(*", 
       RowBox[{"\:041f\:0440\:043e\:0432\:0435\:0440\:044f\:0435\:043c", ",", 
        RowBox[{
        "\:0435\:0441\:0442\:044c", " ", "\:043b\:0438", " ", 
         "\:0434\:0430\:043d\:043d\:044b\:0435"}]}], "*)"}], 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "$simulationStats", "]"}], "==", "0"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<\:041d\:0435\:0442 \:0434\:0430\:043d\:043d\:044b\:0445 \
\:043e \:0432\:044b\:043f\:043e\:043b\:043d\:0435\:043d\:043d\:044b\:0445 \
\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:044f\:0445!\>\"", "]"}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"Return", "[", "]"}], ";"}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:041d\:0430\:0445\:043e\:0434\:0438\:043c", " ", 
         "\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:044e", " ", 
         "\:0441", " ", 
         "\:043c\:0438\:043d\:0438\:043c\:0430\:043b\:044c\:043d\:044b\:043c",
          " ", "\:043f\:0440\:043e\:0441\:0442\:043e\:0435\:043c"}], "*)"}], 
       RowBox[{"stats", "=", "$simulationStats"}], ";", "\[IndentingNewLine]", 
       RowBox[{"bestSim", "=", 
        RowBox[{"First", "[", 
         RowBox[{"SortBy", "[", 
          RowBox[{"stats", ",", 
           RowBox[{
            RowBox[{"#", "[", "\"\<MaxColumnIdle\>\"", "]"}], "&"}]}], "]"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "\:0412\:044b\:0432\:043e\:0434\:0438\:043c", " ", 
         "\:0440\:0435\:0437\:0443\:043b\:044c\:0442\:0430\:0442\:044b", " ", 
         "\:0432", " ", "\:043f\:0440\:043e\:0441\:0442\:043e\:043c", " ", 
         "\:0434\:0438\:0430\:043b\:043e\:0433\:0435"}], "*)"}], 
       RowBox[{"CreateDialog", "[", 
        RowBox[{
         RowBox[{"Column", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
             "\"\<\:041b\:0443\:0447\:0448\:0438\:0439 \:0440\:0435\:0437\
\:0443\:043b\:044c\:0442\:0430\:0442\>\"", ",", "Bold", ",", "16"}], "]"}], 
            ",", 
            RowBox[{"Grid", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041f\:0430\:0440\:0430\:043c\:0435\:0442\:0440\>\"", 
                  ",", "\"\<\:0417\:043d\:0430\:0447\:0435\:043d\:0438\:0435\>\
\""}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041f\:0440\:043e\:0444\:0438\:043b\:044c\>\"", ",", 
                  RowBox[{"bestSim", "[", "\"\<Profile\>\"", "]"}]}], "}"}], 
                ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041a\:043e\:043b\:043e\:043d\:043e\:043a\>\"", ",", 
                  RowBox[{"bestSim", "[", "\"\<Columns\>\"", "]"}]}], "}"}], 
                ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041a\:0430\:0441\:0441\:0438\:0440\:043e\:0432\>\"", 
                  ",", 
                  RowBox[{"bestSim", "[", "\"\<Cashiers\>\"", "]"}]}], "}"}], 
                ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041c\:0430\:043a\:0441\:0438\:043c\:0430\:043b\:044c\
\:043d\:044b\:0439 \:043f\:0440\:043e\:0441\:0442\:043e\:0439 \:043a\:043e\
\:043b\:043e\:043d\:043e\:043a\>\"", ",", 
                  RowBox[{"Row", "[", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"bestSim", "[", "\"\<MaxColumnIdle\>\"", "]"}], 
                    ",", "\"\< \:043c\:0438\:043d\>\""}], "}"}], "]"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041e\:0431\:0441\:043b\:0443\:0436\:0435\:043d\:043e \
\:043a\:043b\:0438\:0435\:043d\:0442\:043e\:0432\>\"", ",", 
                  RowBox[{"bestSim", "[", "\"\<Clients\>\"", "]"}]}], "}"}]}],
                "}"}], ",", 
              RowBox[{"Frame", "->", "All"}]}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"Button", "[", 
             RowBox[{
             "\"\<\:0417\:0430\:043a\:0440\:044b\:0442\:044c\>\"", ",", 
              RowBox[{"DialogReturn", "[", "]"}]}], "]"}]}], "}"}], "]"}], 
         ",", 
         RowBox[{
         "WindowTitle", "->", 
          "\"\<\:041b\:0443\:0447\:0448\:0430\:044f \:043a\:043e\:043d\:0444\
\:0438\:0433\:0443\:0440\:0430\:0446\:0438\:044f\>\""}]}], "]"}], ";"}]}], 
     "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "\:041e\:0441\:043d\:043e\:0432\:043d\:0430\:044f", " ", 
     "\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:044f"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"simulateSystem", "[", 
     RowBox[{"profileName_String", ",", " ", 
      RowBox[{"runtime_Integer", "?", "Positive"}]}], "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "completedClients", ",", "maxColumnIdle", ",", "maxCashierIdle", ",", 
        "totalTime", ",", "stats"}], "}"}], ",", 
      RowBox[{
       RowBox[{"For", "[", 
        RowBox[{
         RowBox[{"$time", "=", "0"}], ",", 
         RowBox[{"$time", "<=", "runtime"}], ",", 
         RowBox[{"$time", "++"}], ",", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "1.", " ", 
           "\:041e\:0441\:0432\:043e\:0431\:043e\:0436\:0434\:0430\:0435\:043c\
", " ", "\:0440\:0435\:0441\:0443\:0440\:0441\:044b", " ", "\:0438", " ", 
           "\:0441\:043e\:0431\:0438\:0440\:0430\:0435\:043c", " ", 
           "\:0441\:0442\:0430\:0442\:0438\:0441\:0442\:0438\:043a\:0443", 
           " ", "\:043f\:0440\:043e\:0441\:0442\:043e\:044f"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"$columns", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "<=",
                  "$time"}], "&&", 
                RowBox[{
                 RowBox[{"$columns", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "!=", 
                 RowBox[{"-", "1"}]}]}], ",", 
               RowBox[{
                RowBox[{"$columns", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "=", 
                RowBox[{"-", "1"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{
              "\:0421\:043e\:0431\:0438\:0440\:0430\:0435\:043c", " ", 
               "\:0441\:0442\:0430\:0442\:0438\:0441\:0442\:0438\:043a\:0443",
                " ", "\:043f\:043e", " ", 
               "\:043a\:043e\:043b\:043e\:043d\:043a\:0430\:043c"}], "*)"}], 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"$columns", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "==", 
                RowBox[{"-", "1"}]}], ",", 
               RowBox[{
                RowBox[{"$columns", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<idleTime\>\""}], "]"}], "]"}], 
                "++"}], ",", 
               RowBox[{
                RowBox[{"$columns", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyTime\>\""}], "]"}], "]"}], 
                "++"}]}], "]"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$columns", "]"}]}], "}"}]}], "]"}], ";",
           "\[IndentingNewLine]", 
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"$cashiers", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "<=",
                  "$time"}], "&&", 
                RowBox[{
                 RowBox[{"$cashiers", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "!=", 
                 RowBox[{"-", "1"}]}]}], ",", 
               RowBox[{
                RowBox[{"$cashiers", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "=", 
                RowBox[{"-", "1"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{
              "\:0421\:043e\:0431\:0438\:0440\:0430\:0435\:043c", " ", 
               "\:0441\:0442\:0430\:0442\:0438\:0441\:0442\:0438\:043a\:0443",
                " ", "\:043f\:043e", " ", 
               "\:043a\:0430\:0441\:0441\:0438\:0440\:0430\:043c"}], "*)"}], 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"$cashiers", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "==", 
                RowBox[{"-", "1"}]}], ",", 
               RowBox[{
                RowBox[{"$cashiers", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<idleTime\>\""}], "]"}], "]"}], 
                "++"}], ",", 
               RowBox[{
                RowBox[{"$cashiers", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyTime\>\""}], "]"}], "]"}], 
                "++"}]}], "]"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$cashiers", "]"}]}], "}"}]}], "]"}], 
          ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "2.", " ", 
            "\:0414\:043e\:0431\:0430\:0432\:043b\:044f\:0435\:043c", " ", 
            "\:043d\:043e\:0432\:044b\:0445", " ", 
            "\:043a\:043b\:0438\:0435\:043d\:0442\:043e\:0432"}], "*)"}], 
          RowBox[{"processNewClients", "[", "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "3.", " ", 
            "\:041e\:0431\:0440\:0430\:0431\:0430\:0442\:044b\:0432\:0430\
\:0435\:043c", " ", "\:0437\:0430\:043f\:0440\:0430\:0432\:043a\:0443"}], 
           "*)"}], 
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"$columns", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "==", 
                RowBox[{"-", "1"}]}], "&&", 
               RowBox[{
                RowBox[{"Length", "[", 
                 RowBox[{"$columnQueues", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], "]"}], ">", "0"}]}], ",", 
              RowBox[{"Module", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"clientID", "=", 
                  RowBox[{"$columnQueues", "[", 
                   RowBox[{"[", 
                    RowBox[{"i", ",", "1"}], "]"}], "]"}]}], "}"}], ",", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<fuelStart\>\"", "]"}], "=", "$time"}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<fuelEnd\>\"", "]"}], "=", 
                  RowBox[{"$time", "+", 
                   RowBox[{"Max", "[", 
                    RowBox[{"1", ",", 
                    RowBox[{
                    RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                    "\"\<fuelTime\>\"", "]"}]}], "]"}]}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"$columns", "=", 
                  RowBox[{"ReplacePart", "[", 
                   RowBox[{"$columns", ",", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"i", ",", "\"\<busyUntil\>\""}], "}"}], "->", 
                    RowBox[{
                    RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                    "\"\<fuelEnd\>\"", "]"}]}]}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"$columnQueues", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "=", 
                  RowBox[{"Rest", "[", 
                   RowBox[{"$columnQueues", "[", 
                    RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<status\>\"", "]"}], "=", "\"\<refueling\>\""}]}]}], 
               "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$columns", "]"}]}], "}"}]}], "]"}], ";",
           "\[IndentingNewLine]", 
          RowBox[{"(*", "\:041e\:0447\:0435\:0440\:0435\:0434\:0438", "*)"}], 
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"currentLength", "=", 
              RowBox[{"Length", "[", 
               RowBox[{"$columnQueues", "[", 
                RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"AppendTo", "[", 
              RowBox[{
               RowBox[{"$queueHistory", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "currentLength"}], "]"}],
              ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{
              "\:041e\:0431\:043d\:043e\:0432\:043b\:044f\:0435\:043c", " ", 
               "\:043c\:0430\:043a\:0441\:0438\:043c\:0443\:043c"}], "*)"}], 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"currentLength", ">", "$maxQueueLength"}], ",", 
               RowBox[{
                RowBox[{"$maxQueueLength", "=", "currentLength"}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"$maxQueueColumn", "=", "i"}]}]}], "]"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$columns", "]"}]}], "}"}]}], "]"}], ";",
           "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "4.", " ", 
            "\:041f\:0435\:0440\:0435\:0432\:043e\:0434\:0438\:043c", " ", 
            "\:043d\:0430", " ", "\:043a\:0430\:0441\:0441\:044b"}], "*)"}], 
          RowBox[{"KeyValueMap", "[", 
           RowBox[{
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"clientID", ",", "clientData"}], "}"}], ",", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{"clientData", "[", "\"\<fuelEnd\>\"", "]"}], "==", 
                  "$time"}], "&&", 
                 RowBox[{
                  RowBox[{"clientData", "[", "\"\<status\>\"", "]"}], "==", 
                  "\"\<refueling\>\""}]}], ",", 
                RowBox[{"Module", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"cashierID", "=", 
                    RowBox[{"getOptimalCashier", "[", "]"}]}], "}"}], ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"IntegerQ", "[", "cashierID", "]"}], "&&", 
                    RowBox[{"1", "<=", "cashierID", "<=", 
                    RowBox[{"Length", "[", "$cashiers", "]"}]}]}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"(*", 
                    RowBox[{
                    "\:0414\:043e\:0431\:0430\:0432\:043b\:044f\:0435\:043c", 
                    " ", "\:0432", " ", 
                    "\:043e\:0447\:0435\:0440\:0435\:0434\:044c"}], "*)"}], 
                    RowBox[{
                    RowBox[{
                    RowBox[{"$cashierQueues", "[", 
                    RowBox[{"[", "cashierID", "]"}], "]"}], "=", 
                    RowBox[{"Append", "[", 
                    RowBox[{
                    RowBox[{"$cashierQueues", "[", 
                    RowBox[{"[", "cashierID", "]"}], "]"}], ",", "clientID"}],
                     "]"}]}], ";", "\[IndentingNewLine]", 
                    RowBox[{"(*", 
                    RowBox[{
                    "\:041e\:0431\:043d\:043e\:0432\:043b\:044f\:0435\:043c", 
                    " ", "\:0434\:0430\:043d\:043d\:044b\:0435", " ", 
                    "\:043a\:043b\:0438\:0435\:043d\:0442\:0430"}], "*)"}], 
                    RowBox[{"AssociateTo", "[", 
                    RowBox[{
                    RowBox[{"$clientData", "[", "clientID", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"\"\<cashier\>\"", "->", "cashierID"}], ",", 
                    RowBox[{
                    "\"\<status\>\"", "->", "\"\<waiting_for_payment\>\""}]}],
                     "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
                    RowBox[{"(*", 
                    RowBox[{
                    "\:041e\:0431\:0440\:0430\:0431\:043e\:0442\:043a\:0430", 
                    " ", "\:043e\:0448\:0438\:0431\:043a\:0438"}], "*)"}], 
                    RowBox[{
                    RowBox[{"Print", "[", 
                    RowBox[{
                    "\"\<ERROR: \:041d\:0435 \:043d\:0430\:0439\:0434\:0435\
\:043d \:043f\:043e\:0434\:0445\:043e\:0434\:044f\:0449\:0438\:0439 \:043a\
\:0430\:0441\:0441\:0438\:0440 \:0434\:043b\:044f \>\"", ",", "clientID"}], 
                    "]"}], ";", "\[IndentingNewLine]", 
                    RowBox[{"AssociateTo", "[", 
                    RowBox[{
                    RowBox[{"$clientData", "[", "clientID", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    "\"\<status\>\"", "->", "\"\<failed_no_cashier\>\""}], 
                    "}"}]}], "]"}]}]}], "]"}]}], "]"}]}], "]"}]}], "]"}], ",",
             "$clientData"}], "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041e\:0447\:0435\:0440\:0435\:0434\:0438", " ", "\:0432", " ", 
            "\:043a\:0430\:0441\:0441\:044b"}], "*)"}], 
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"currentLength", "=", 
              RowBox[{"Length", "[", 
               RowBox[{"$cashierQueues", "[", 
                RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"AppendTo", "[", 
              RowBox[{
               RowBox[{"$queueCashierHistory", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "currentLength"}], "]"}],
              ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{
              "\:041e\:0431\:043d\:043e\:0432\:043b\:044f\:0435\:043c", " ", 
               "\:043c\:0430\:043a\:0441\:0438\:043c\:0443\:043c"}], "*)"}], 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"currentLength", ">", "$maxQueueLengthCashier"}], ",", 
               RowBox[{
                RowBox[{"$maxQueueLengthCashier", "=", "currentLength"}], ";",
                 "\[IndentingNewLine]", 
                RowBox[{"$maxQueueCashier", "=", "i"}]}]}], "]"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$cashiers", "]"}]}], "}"}]}], "]"}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "5.", " ", 
            "\:041e\:0431\:0440\:0430\:0431\:0430\:0442\:044b\:0432\:0430\
\:0435\:043c", " ", "\:043e\:043f\:043b\:0430\:0442\:0443"}], "*)"}], 
          RowBox[{"Do", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"$cashiers", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], "==", 
                RowBox[{"-", "1"}]}], "&&", 
               RowBox[{
                RowBox[{"Length", "[", 
                 RowBox[{"$cashierQueues", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], "]"}], ">", "0"}]}], ",", 
              RowBox[{"Module", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"clientID", "=", 
                  RowBox[{"$cashierQueues", "[", 
                   RowBox[{"[", 
                    RowBox[{"i", ",", "1"}], "]"}], "]"}]}], "}"}], ",", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<paymentStart\>\"", "]"}], "=", "$time"}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<paymentEnd\>\"", "]"}], "=", 
                  RowBox[{"$time", "+", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                    "\"\<paymentType\>\"", "]"}], "==", "\"\<card\>\""}], ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"First", "[", "$purchasesQ", "]"}], "==", 
                    "True"}], ",", 
                    RowBox[{
                    RowBox[{"First", "[", "$paymentTimes", "]"}], "*", "2"}], 
                    ",", 
                    RowBox[{"First", "[", "$paymentTimes", "]"}]}], "]"}], 
                    ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"First", "[", "$purchasesQ", "]"}], "==", 
                    "True"}], ",", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"First", "[", "$paymentTimes", "]"}], "+", "3"}], 
                    ")"}], "*", "2"}], ",", 
                    RowBox[{
                    RowBox[{"First", "[", "$paymentTimes", "]"}], "+", 
                    "3"}]}], "]"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"$cashiers", "[", 
                   RowBox[{"[", 
                    RowBox[{"i", ",", "\"\<busyUntil\>\""}], "]"}], "]"}], 
                  "=", 
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<paymentEnd\>\"", "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"$cashierQueues", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "=", 
                  RowBox[{"Rest", "[", 
                   RowBox[{"$cashierQueues", "[", 
                    RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"$paymentTimes", "=", 
                  RowBox[{"Rest", "[", "$paymentTimes", "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{"$purchasesQ", "=", 
                  RowBox[{"Rest", "[", "$purchasesQ", "]"}]}], ";", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"$clientData", "[", "clientID", "]"}], "[", 
                   "\"\<status\>\"", "]"}], "=", "\"\<completed\>\""}]}]}], 
               "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"Length", "[", "$cashiers", "]"}]}], "}"}]}], "]"}]}]}],
         "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"totalTime", "=", 
        RowBox[{"$time", "-", "1"}]}], ";", "\n", 
       RowBox[{"completedClients", "=", 
        RowBox[{
         RowBox[{"CountsBy", "[", 
          RowBox[{
           RowBox[{"Values", "[", "$clientData", "]"}], ",", 
           RowBox[{
            RowBox[{"#", "[", "\"\<status\>\"", "]"}], "&"}]}], "]"}], "[", 
         "\"\<completed\>\"", "]"}]}], ";", "\[IndentingNewLine]", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "\:0412\:044b\:0447\:0438\:0441\:043b\:044f\:0435\:043c", " ", 
         "\:043c\:0430\:043a\:0441\:0438\:043c\:0430\:043b\:044c\:043d\:044b\
\:0435", " ", "\:043f\:0440\:043e\:0441\:0442\:043e\:0438"}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"maxColumnIdle", "=", 
        RowBox[{"N", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Max", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"$columns", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", "\"\<idleTime\>\""}], "]"}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"i", ",", 
                RowBox[{"Length", "[", "$columns", "]"}]}], "}"}]}], "]"}], 
            "]"}], "*", 
           RowBox[{"100", "/", " ", "runtime"}]}], ",", " ", "3"}], "]"}]}], 
       ";", "\n", 
       RowBox[{"maxCashierIdle", "=", 
        RowBox[{"N", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Max", "[", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"$cashiers", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", "\"\<idleTime\>\""}], "]"}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"i", ",", 
                RowBox[{"Length", "[", "$cashiers", "]"}]}], "}"}]}], "]"}], 
            "]"}], "*", 
           RowBox[{"100", "/", "runtime"}]}], ",", " ", "3"}], "]"}]}], ";", 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
        "\:0414\:043e\:0431\:0430\:0432\:043b\:044f\:0435\:043c", " ", 
         "\:043d\:043e\:0432\:044b\:0435", " ", 
         "\:0434\:0430\:043d\:043d\:044b\:0435"}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"$simulationStats", ",", 
         RowBox[{"<|", 
          RowBox[{
           RowBox[{"\"\<Profile\>\"", "->", "profileName"}], ",", 
           RowBox[{"\"\<Time\>\"", "->", "totalTime"}], ",", 
           RowBox[{"\"\<Clients\>\"", "->", "completedClients"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"\"\<Columns\>\"", "->", 
            RowBox[{"Length", "[", "$columns", "]"}]}], ",", 
           RowBox[{"\"\<Cashiers\>\"", "->", 
            RowBox[{"Length", "[", "$cashiers", "]"}]}], ",", 
           RowBox[{"\"\<MaxColumnIdle\>\"", "->", "maxColumnIdle"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"\"\<MaxCashierIdle\>\"", "->", "maxCashierIdle"}]}], 
          "|>"}]}], "]"}], ";", "\[IndentingNewLine]", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "\:041e\:0431\:043d\:043e\:0432\:043b\:044f\:0435\:043c", " ", 
         "\:043e\:043a\:043d\:043e", " ", 
         "\:0441\:0442\:0430\:0442\:0438\:0441\:0442\:0438\:043a\:0438"}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"showStatsWindow", "[", "]"}], ";", "\[IndentingNewLine]", 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
        "\:0412\:043e\:0437\:0432\:0440\:0430\:0449\:0430\:0435\:043c", " ", 
         "\:0440\:0435\:0437\:0443\:043b\:044c\:0442\:0430\:0442\:044b"}], 
        "*)"}], "\[IndentingNewLine]", "$simulationStats"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.956744979309105*^9, 3.9567449966311474`*^9}, 
   3.9567450273119965`*^9, {3.956745079398613*^9, 3.9567451209903507`*^9}, {
   3.95674518022966*^9, 3.956745327208784*^9}, {3.9567454424659863`*^9, 
   3.9567454741884995`*^9}, {3.9567456901140366`*^9, 
   3.9567456905940437`*^9}, {3.956745832754446*^9, 3.9567458743610344`*^9}, {
   3.9567462135214157`*^9, 3.956746227200054*^9}, {3.956746354485565*^9, 
   3.956746360425585*^9}, {3.9567464297618446`*^9, 3.9567464328607845`*^9}, {
   3.956746516469557*^9, 3.9567465269914284`*^9}, {3.956751822996523*^9, 
   3.9567518339369774`*^9}, {3.956751887036894*^9, 3.9567519853352013`*^9}, {
   3.9567520507925797`*^9, 3.956752069565649*^9}, {3.9567521039815655`*^9, 
   3.956752114202097*^9}, 3.9567522740394974`*^9, {3.95675231416296*^9, 
   3.9567523440084343`*^9}, {3.956752474378893*^9, 3.9567524763109207`*^9}, {
   3.956752536115219*^9, 3.9567525407412834`*^9}, {3.956752592728262*^9, 
   3.956752601530298*^9}, {3.9567526361749*^9, 3.956752661477274*^9}, {
   3.956752739571373*^9, 3.9567527793955536`*^9}, {3.9567530543164597`*^9, 
   3.956753184096548*^9}, {3.9567532550275*^9, 3.956753290033079*^9}, {
   3.9567534233758564`*^9, 3.956753423898306*^9}, {3.95675350259741*^9, 
   3.9567535983973503`*^9}, 3.9567539180272026`*^9, {3.9567539690227737`*^9, 
   3.956754035175932*^9}, 3.9567540822495384`*^9, 3.9567541362153893`*^9, 
   3.956754267391508*^9, {3.9567543209032154`*^9, 3.9567543239399433`*^9}, {
   3.956754840765152*^9, 3.9567548751157875`*^9}, {3.9567551358858643`*^9, 
   3.9567551470663567`*^9}, {3.9567552790343647`*^9, 3.956755283924465*^9}, 
   3.9567554875164757`*^9, {3.9567568048255463`*^9, 3.9567568128919945`*^9}, {
   3.9568398420968037`*^9, 3.956839868663786*^9}, {3.95684125543898*^9, 
   3.956841255940918*^9}, {3.9568413221023064`*^9, 3.956841347522764*^9}, {
   3.9568416735841846`*^9, 3.9568416941733627`*^9}, {3.956841726423092*^9, 
   3.9568417266664524`*^9}, {3.9568420028071957`*^9, 3.9568420152176704`*^9}, 
   3.9568420794197445`*^9, {3.956846518877329*^9, 3.95684651979558*^9}, {
   3.956847005150854*^9, 3.9568470095811443`*^9}, {3.956849669139078*^9, 
   3.956849698515972*^9}, {3.9568497359831257`*^9, 3.9568498285515976`*^9}, 
   3.9569217600969543`*^9, {3.9569228018404713`*^9, 3.956922809612295*^9}, {
   3.9569236543412666`*^9, 3.956923666716614*^9}, 3.9569237324349174`*^9, {
   3.956924512052294*^9, 3.956924513990139*^9}, {3.957004922497244*^9, 
   3.957004925743988*^9}, {3.957005184230917*^9, 3.9570051880579395`*^9}, {
   3.9570052249659176`*^9, 3.957005323148197*^9}, {3.9570057119644985`*^9, 
   3.957005713071457*^9}, {3.957044028235218*^9, 3.957044056325033*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"b25d9a1d-9bb2-9640-be46-786ab039ab70"]
}, Open  ]],

Cell[CellGroupData[{

Cell["System", "Subsubsection",
 CellChangeTimes->{{3.9567458826018906`*^9, 
  3.95674589262731*^9}},ExpressionUUID->"1b5c838c-91bb-914a-95d6-\
b76e1ea02adb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"makeInterface", "[", "]"}], ":=", 
  RowBox[{"DynamicModule", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"profiles", "=", 
       RowBox[{"<|", "|>"}]}], ",", 
      RowBox[{"currentProfile", "=", "\"\<Default\>\""}], ",", 
      RowBox[{
      "level", "=", "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\""}], 
      ",", 
      RowBox[{"newProfileName", "=", "\"\<\>\""}], ",", 
      RowBox[{"profileDir", "=", 
       RowBox[{"FileNameJoin", "[", 
        RowBox[{"{", 
         RowBox[{"$UserDocumentsDirectory", ",", "\"\<AZS_Profiles\>\""}], 
         "}"}], "]"}]}], ",", 
      RowBox[{"(*", 
       RowBox[{
       "\:041f\:0440\:0435\:0434\:043e\:043f\:0440\:0435\:0434\:0435\:043b\
\:0451\:043d\:043d\:044b\:0435", " ", 
        "\:0441\:043f\:0438\:0441\:043a\:0438"}], "*)"}], 
      RowBox[{"light", "=", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", "4", ",", "7", ",", "21", ",", "30", ",", "32", ",", "33", 
         ",", "34", ",", "35", ",", "41", ",", "43", ",", "48", ",", "60", 
         ",", "62", ",", "70", ",", "71", ",", "72", ",", "81", ",", "82", 
         ",", "87", ",", "88", ",", "94", ",", "96", ",", "100", ",", "102", 
         ",", "109", ",", "119", ",", "121", ",", "127", ",", "129", ",", 
         "130", ",", "136", ",", "138", ",", "139", ",", "141", ",", "149", 
         ",", "151", ",", "153", ",", "155", ",", "158", ",", "163", ",", 
         "170", ",", "175", ",", "191", ",", "195", ",", "211", ",", "218", 
         ",", "230", ",", "238", ",", "239", ",", "256", ",", "258", ",", 
         "265", ",", "266", ",", "290", ",", "299", ",", "300", ",", "306", 
         ",", "314", ",", "315", ",", "323", ",", "356", ",", "357", ",", 
         "359", ",", "368", ",", "382", ",", "383", ",", "384", ",", "392", 
         ",", "406", ",", "411", ",", "413", ",", "414", ",", "428", ",", 
         "431", ",", "433", ",", "438", ",", "448", ",", "452", ",", "454", 
         ",", "458", ",", "463", ",", "467", ",", "478", ",", "479", ",", 
         "481", ",", "485", ",", "486", ",", "489", ",", "491", ",", "494", 
         ",", "502", ",", "505", ",", "506", ",", "517", ",", "518", ",", 
         "521", ",", "528", ",", "540", ",", "542", ",", "550", ",", "554", 
         ",", "555", ",", "560", ",", "570", ",", "573", ",", "576", ",", 
         "579", ",", "583", ",", "597", ",", "602", ",", "605", ",", "608", 
         ",", "612", ",", "616", ",", "633", ",", "651", ",", "653", ",", 
         "656", ",", "662", ",", "664", ",", "665", ",", "666", ",", "667", 
         ",", "680", ",", "683", ",", "688", ",", "692", ",", "715", ",", 
         "739", ",", "740", ",", "744", ",", "745", ",", "753", ",", "757", 
         ",", "760", ",", "765", ",", "775", ",", "778", ",", "779", ",", 
         "780", ",", "781", ",", "783", ",", "791", ",", "797", ",", "801", 
         ",", "802", ",", "806", ",", "808", ",", "812", ",", "813", ",", 
         "831", ",", "843", ",", "847", ",", "848", ",", "865", ",", "868", 
         ",", "879", ",", "910", ",", "916", ",", "917", ",", "925", ",", 
         "927", ",", "940", ",", "943", ",", "955", ",", "956", ",", "958", 
         ",", "959", ",", "964", ",", "965", ",", "966", ",", "967", ",", 
         "982", ",", "994", ",", "995", ",", "1011", ",", "1013", ",", "1019",
          ",", "1029", ",", "1030", ",", "1042", ",", "1053", ",", "1057", 
         ",", "1059", ",", "1072", ",", "1077", ",", "1089", ",", "1090", ",",
          "1094", ",", "1097", ",", "1098", ",", "1099", ",", "1106", ",", 
         "1111", ",", "1114", ",", "1124", ",", "1133", ",", "1134", ",", 
         "1135", ",", "1136", ",", "1140", ",", "1159", ",", "1160", ",", 
         "1165", ",", "1176", ",", "1177", ",", "1187", ",", "1188", ",", 
         "1192", ",", "1198", ",", "1204", ",", "1216", ",", "1219", ",", 
         "1243", ",", "1245", ",", "1247", ",", "1248", ",", "1253", ",", 
         "1260", ",", "1270", ",", "1274", ",", "1281", ",", "1283", ",", 
         "1288", ",", "1290", ",", "1293", ",", "1294", ",", "1306", ",", 
         "1307", ",", "1312", ",", "1315", ",", "1321", ",", "1326", ",", 
         "1327", ",", "1334", ",", "1337", ",", "1339", ",", "1346", ",", 
         "1350", ",", "1356", ",", "1375", ",", "1385", ",", "1389", ",", 
         "1391", ",", "1410", ",", "1420", ",", "1425", ",", "1428", ",", 
         "1439"}], "}"}]}], ",", 
      RowBox[{"(*", 
       RowBox[{"250", " ", "\:043c\:0430\:0448\:0438\:043d"}], "*)"}], 
      RowBox[{"medium", "=", 
       RowBox[{"{", 
        RowBox[{
        "0", ",", " ", "2", ",", "3", ",", "6", ",", "9", ",", "16", ",", 
         "18", ",", "19", ",", "21", ",", "24", ",", "26", ",", "28", ",", 
         "31", ",", "32", ",", "37", ",", "45", ",", "49", ",", "52", ",", 
         "54", ",", "55", ",", "57", ",", "58", ",", "59", ",", "62", ",", 
         "63", ",", "68", ",", "69", ",", "70", ",", "72", ",", "73", ",", 
         "76", ",", "78", ",", "81", ",", "82", ",", "83", ",", "88", ",", 
         "93", ",", "97", ",", "101", ",", "103", ",", "105", ",", "107", ",",
          "111", ",", "112", ",", "126", ",", "129", ",", "131", ",", "135", 
         ",", "136", ",", "138", ",", "143", ",", "145", ",", "146", ",", 
         "148", ",", "150", ",", "152", ",", "153", ",", "157", ",", "160", 
         ",", "164", ",", "165", ",", "175", ",", "178", ",", "179", ",", 
         "180", ",", "181", ",", "183", ",", "186", ",", "187", ",", "192", 
         ",", "194", ",", "197", ",", "198", ",", "200", ",", "202", ",", 
         "203", ",", "204", ",", "206", ",", "207", ",", "208", ",", "210", 
         ",", "218", ",", "223", ",", "229", ",", "232", ",", "233", ",", 
         "234", ",", "236", ",", "239", ",", "241", ",", "245", ",", "247", 
         ",", "248", ",", "249", ",", "250", ",", "260", ",", "265", ",", 
         "267", ",", "270", ",", "271", ",", "279", ",", "281", ",", "284", 
         ",", "288", ",", "290", ",", "295", ",", "296", ",", "299", ",", 
         "302", ",", "304", ",", "306", ",", "308", ",", "314", ",", "316", 
         ",", "319", ",", "326", ",", "327", ",", "332", ",", "334", ",", 
         "342", ",", "350", ",", "352", ",", "356", ",", "357", ",", "359", 
         ",", "362", ",", "363", ",", "364", ",", "365", ",", "367", ",", 
         "374", ",", "377", ",", "380", ",", "383", ",", "388", ",", "392", 
         ",", "395", ",", "397", ",", "400", ",", "409", ",", "411", ",", 
         "413", ",", "414", ",", "417", ",", "419", ",", "424", ",", "425", 
         ",", "429", ",", "435", ",", "436", ",", "439", ",", "441", ",", 
         "444", ",", "446", ",", "449", ",", "456", ",", "457", ",", "458", 
         ",", "459", ",", "463", ",", "464", ",", "469", ",", "471", ",", 
         "472", ",", "473", ",", "475", ",", "477", ",", "479", ",", "480", 
         ",", "486", ",", "492", ",", "494", ",", "496", ",", "497", ",", 
         "504", ",", "507", ",", "509", ",", "510", ",", "513", ",", "514", 
         ",", "518", ",", "522", ",", "523", ",", "526", ",", "527", ",", 
         "530", ",", "531", ",", "534", ",", "537", ",", "539", ",", "544", 
         ",", "546", ",", "547", ",", "552", ",", "553", ",", "554", ",", 
         "557", ",", "559", ",", "560", ",", "561", ",", "562", ",", "564", 
         ",", "565", ",", "567", ",", "568", ",", "572", ",", "573", ",", 
         "575", ",", "576", ",", "577", ",", "581", ",", "584", ",", "585", 
         ",", "588", ",", "590", ",", "593", ",", "594", ",", "595", ",", 
         "601", ",", "606", ",", "612", ",", "615", ",", "616", ",", "617", 
         ",", "618", ",", "619", ",", "620", ",", "624", ",", "625", ",", 
         "630", ",", "634", ",", "638", ",", "641", ",", "642", ",", "646", 
         ",", "650", ",", "652", ",", "653", ",", "657", ",", "659", ",", 
         "662", ",", "663", ",", "665", ",", "666", ",", "667", ",", "669", 
         ",", "671", ",", "673", ",", "675", ",", "677", ",", "678", ",", 
         "680", ",", "681", ",", "687", ",", "688", ",", "689", ",", "690", 
         ",", "692", ",", "698", ",", "706", ",", "711", ",", "714", ",", 
         "715", ",", "716", ",", "718", ",", "719", ",", "722", ",", "723", 
         ",", "727", ",", "728", ",", "729", ",", "730", ",", "737", ",", 
         "738", ",", "739", ",", "740", ",", "744", ",", "747", ",", "748", 
         ",", "755", ",", "759", ",", "764", ",", "768", ",", "769", ",", 
         "770", ",", "773", ",", "775", ",", "786", ",", "788", ",", "789", 
         ",", "793", ",", "795", ",", "801", ",", "802", ",", "803", ",", 
         "817", ",", "819", ",", "821", ",", "824", ",", "829", ",", "830", 
         ",", "832", ",", "833", ",", "835", ",", "839", ",", "844", ",", 
         "848", ",", "856", ",", "858", ",", "859", ",", "861", ",", "865", 
         ",", "872", ",", "873", ",", "874", ",", "880", ",", "882", ",", 
         "883", ",", "884", ",", "888", ",", "890", ",", "892", ",", "893", 
         ",", "894", ",", "897", ",", "903", ",", "907", ",", "909", ",", 
         "911", ",", "912", ",", "917", ",", "918", ",", "919", ",", "924", 
         ",", "926", ",", "927", ",", "929", ",", "930", ",", "932", ",", 
         "934", ",", "935", ",", "947", ",", "948", ",", "950", ",", "952", 
         ",", "954", ",", "956", ",", "957", ",", "960", ",", "969", ",", 
         "973", ",", "977", ",", "983", ",", "985", ",", "986", ",", "988", 
         ",", "996", ",", "1002", ",", "1003", ",", "1005", ",", "1010", ",", 
         "1013", ",", "1016", ",", "1017", ",", "1023", ",", "1029", ",", " ",
          "1037", ",", "1038", ",", "1040", ",", "1042", ",", "1050", ",", 
         "1053", ",", "1054", ",", "1056", ",", "1057", ",", "1059", ",", 
         "1060", ",", "1068", ",", "1069", ",", "1072", ",", "1074", ",", 
         "1078", ",", "1079", ",", "1081", ",", "1082", ",", "1083", ",", 
         "1088", ",", "1092", ",", "1096", ",", "1099", ",", "1102", ",", 
         "1103", ",", "1108", ",", "1109", ",", "1110", ",", "1111", ",", 
         "1117", ",", "1124", ",", "1125", ",", "1129", ",", "1130", ",", 
         "1131", ",", "1138", ",", "1139", ",", "1147", ",", "1149", ",", 
         "1152", ",", "1153", ",", "1160", ",", "1165", ",", "1166", ",", 
         "1167", ",", "1169", ",", "1171", ",", "1173", ",", "1178", ",", 
         "1190", ",", "1195", ",", "1196", ",", "1198", ",", "1199", ",", 
         "1202", ",", "1204", ",", "1206", ",", "1208", ",", "1209", ",", 
         "1214", ",", "1215", ",", "1216", ",", "1222", ",", "1225", ",", 
         "1228", ",", "1229", ",", "1230", ",", "1238", ",", "1245", ",", 
         "1251", ",", "1258", ",", "1260", ",", "1261", ",", "1266", ",", 
         "1268", ",", "1270", ",", "1271", ",", "1272", ",", "1275", ",", 
         "1283", ",", "1285", ",", "1290", ",", "1291", ",", "1292", ",", 
         "1294", ",", "1296", ",", "1297", ",", "1299", ",", "1301", ",", 
         "1305", ",", "1307", ",", "1312", ",", "1320", ",", "1322", ",", 
         "1324", ",", "1325", ",", "1328", ",", "1333", ",", "1337", ",", 
         "1340", ",", "1342", ",", "1345", ",", "1348", ",", "1351", ",", 
         "1352", ",", "1359", ",", "1361", ",", "1363", ",", "1372", ",", 
         "1373", ",", "1375", ",", "1377", ",", "1378", ",", "1383", ",", 
         "1384", ",", "1385", ",", "1387", ",", "1390", ",", "1392", ",", 
         "1395", ",", "1398", ",", "1402", ",", "1403", ",", "1409", ",", 
         "1411", ",", "1419", ",", "1422", ",", "1423", ",", "1424", ",", 
         "1430", ",", "1431", ",", "1432", ",", "1440"}], "}"}]}], ",", 
      RowBox[{"(*", 
       RowBox[{"500", " ", "\:043c\:0430\:0448\:0438\:043d"}], "*)"}], 
      RowBox[{"hard", "=", 
       StyleBox[
        RowBox[{"{", 
         RowBox[{
         "0", ",", "1", ",", "2", ",", "3", ",", "5", ",", "6", ",", "9", ",",
           "11", ",", "13", ",", "14", ",", "17", ",", "18", ",", "19", ",", 
          "20", ",", "21", ",", "24", ",", "25", ",", "26", ",", "27", ",", 
          "29", ",", "30", ",", "33", ",", "34", ",", "35", ",", "37", ",", 
          "38", ",", "39", ",", "40", ",", "45", ",", "46", ",", "47", ",", 
          "48", ",", "49", ",", "50", ",", "52", ",", "53", ",", "54", ",", 
          "56", ",", "57", ",", "59", ",", "60", ",", "61", ",", "62", ",", 
          "63", ",", "64", ",", "66", ",", "67", ",", "69", ",", "72", ",", 
          "74", ",", "75", ",", "76", ",", "77", ",", "78", ",", "81", ",", 
          "84", ",", "85", ",", "86", ",", "90", ",", "91", ",", "93", ",", 
          "94", ",", "96", ",", "97", ",", "100", ",", "101", ",", "102", ",",
           "103", ",", "104", ",", "105", ",", "107", ",", "108", ",", "109", 
          ",", "111", ",", "113", ",", "114", ",", "115", ",", "116", ",", 
          "117", ",", "119", ",", "120", ",", "121", ",", "123", ",", "124", 
          ",", "125", ",", "126", ",", "129", ",", "130", ",", "132", ",", 
          "135", ",", "136", ",", "138", ",", "139", ",", "141", ",", "142", 
          ",", "143", ",", "146", ",", "148", ",", "149", ",", "151", ",", 
          "152", ",", "153", ",", "155", ",", "156", ",", "157", ",", "159", 
          ",", "160", ",", "162", ",", "163", ",", "166", ",", "169", ",", 
          "171", ",", "172", ",", "173", ",", "174", ",", "175", ",", "176", 
          ",", "177", ",", "178", ",", "180", ",", "181", ",", "183", ",", 
          "184", ",", "187", ",", "189", ",", "193", ",", "194", ",", "195", 
          ",", "196", ",", "198", ",", "202", ",", "203", ",", "205", ",", 
          "206", ",", "207", ",", "208", ",", "209", ",", "211", ",", "212", 
          ",", "213", ",", "214", ",", "216", ",", "217", ",", "218", ",", 
          "219", ",", "221", ",", "222", ",", "223", ",", "224", ",", "225", 
          ",", "229", ",", "230", ",", "234", ",", "235", ",", "236", ",", 
          "238", ",", "241", ",", "242", ",", "243", ",", "244", ",", "245", 
          ",", "246", ",", "247", ",", "248", ",", "250", ",", "252", ",", 
          "253", ",", "254", ",", "255", ",", "256", ",", "257", ",", "258", 
          ",", "259", ",", "260", ",", "262", ",", "265", ",", "266", ",", 
          "268", ",", "269", ",", "270", ",", "272", ",", "273", ",", "274", 
          ",", "275", ",", "276", ",", "279", ",", "280", ",", "282", ",", 
          "283", ",", "285", ",", "286", ",", "287", ",", "288", ",", "291", 
          ",", "292", ",", "294", ",", "295", ",", "296", ",", "297", ",", 
          "298", ",", "299", ",", "303", ",", "304", ",", "305", ",", "306", 
          ",", "308", ",", "310", ",", "312", ",", "313", ",", "314", ",", 
          "315", ",", "317", ",", "319", ",", "320", ",", "322", ",", "324", 
          ",", "326", ",", "328", ",", "329", ",", "330", ",", "333", ",", 
          "334", ",", "335", ",", "338", ",", "340", ",", "341", ",", "344", 
          ",", "347", ",", "349", ",", "351", ",", "353", ",", "354", ",", 
          "355", ",", "357", ",", "358", ",", "359", ",", "361", ",", "364", 
          ",", "365", ",", "367", ",", "369", ",", "370", ",", "371", ",", 
          "372", ",", "374", ",", "375", ",", "376", ",", "378", ",", "379", 
          ",", "382", ",", "383", ",", "384", ",", "385", ",", "386", ",", 
          "388", ",", "389", ",", "390", ",", "391", ",", "392", ",", "393", 
          ",", "395", ",", "397", ",", "399", ",", "400", ",", "401", ",", 
          "402", ",", "403", ",", "404", ",", "405", ",", "407", ",", "408", 
          ",", "409", ",", "410", ",", "411", ",", "412", ",", "415", ",", 
          "416", ",", "418", ",", "419", ",", "420", ",", "421", ",", "422", 
          ",", "424", ",", "425", ",", "426", ",", "427", ",", "428", ",", 
          "429", ",", "430", ",", "431", ",", "433", ",", "434", ",", "435", 
          ",", "436", ",", "437", ",", "439", ",", "440", ",", "441", ",", 
          "442", ",", "443", ",", "444", ",", "445", ",", "446", ",", "447", 
          ",", "449", ",", "450", ",", "451", ",", "452", ",", "455", ",", 
          "456", ",", "457", ",", "458", ",", "459", ",", "460", ",", "462", 
          ",", "463", ",", "465", ",", "466", ",", "471", ",", "472", ",", 
          "473", ",", "474", ",", "475", ",", "476", ",", "477", ",", "479", 
          ",", "481", ",", "482", ",", "484", ",", "485", ",", "486", ",", 
          "487", ",", "488", ",", "489", ",", "490", ",", "491", ",", "492", 
          ",", "493", ",", "494", ",", "495", ",", "497", ",", "498", ",", 
          "502", ",", "503", ",", "505", ",", "509", ",", "510", ",", "511", 
          ",", "512", ",", "514", ",", "515", ",", "516", ",", "517", ",", 
          "518", ",", "521", ",", "522", ",", "523", ",", "524", ",", "525", 
          ",", "526", ",", "528", ",", "529", ",", "530", ",", "531", ",", 
          "532", ",", "535", ",", "537", ",", "538", ",", "540", ",", "542", 
          ",", "544", ",", "545", ",", "546", ",", "548", ",", "549", ",", 
          "550", ",", "552", ",", "553", ",", "558", ",", "562", ",", "563", 
          ",", "564", ",", "565", ",", "566", ",", "567", ",", "570", ",", 
          "571", ",", "572", ",", "573", ",", "574", ",", "575", ",", "576", 
          ",", "578", ",", "579", ",", "580", ",", "581", ",", "582", ",", 
          "583", ",", "584", ",", "585", ",", "586", ",", "588", ",", "590", 
          ",", "592", ",", "594", ",", "595", ",", "596", ",", "599", ",", 
          "601", ",", "602", ",", "603", ",", "605", ",", "609", ",", "611", 
          ",", "612", ",", "613", ",", "614", ",", "616", ",", "617", ",", 
          "618", ",", "619", ",", "620", ",", "622", ",", "623", ",", "624", 
          ",", "626", ",", "627", ",", "628", ",", "629", ",", "632", ",", 
          "633", ",", "634", ",", "636", ",", "639", ",", "640", ",", "641", 
          ",", "642", ",", "643", ",", "646", ",", "647", ",", "651", ",", 
          "652", ",", "653", ",", "654", ",", "655", ",", "656", ",", "657", 
          ",", "659", ",", "660", ",", "662", ",", "665", ",", "666", ",", 
          "667", ",", "672", ",", "673", ",", "675", ",", "677", ",", "679", 
          ",", "680", ",", "681", ",", "682", ",", "683", ",", "684", ",", 
          "685", ",", "686", ",", "687", ",", "688", ",", "689", ",", "690", 
          ",", "692", ",", "694", ",", "695", ",", "696", ",", "697", ",", 
          "699", ",", "701", ",", "704", ",", "705", ",", "706", ",", "707", 
          ",", "709", ",", "710", ",", "714", ",", "715", ",", "717", ",", 
          "718", ",", "720", ",", "721", ",", "722", ",", "723", ",", "724", 
          ",", "725", ",", "727", ",", "729", ",", "730", ",", "732", ",", 
          "733", ",", "734", ",", "735", ",", "736", ",", "740", ",", "744", 
          ",", "745", ",", "746", ",", "749", ",", "751", ",", "752", ",", 
          "759", ",", "760", ",", "766", ",", "767", ",", "770", ",", "771", 
          ",", "773", ",", "774", ",", "775", ",", "776", ",", "777", ",", 
          "780", ",", "781", ",", "782", ",", "783", ",", "784", ",", "785", 
          ",", "786", ",", "787", ",", "789", ",", "790", ",", "791", ",", 
          "793", ",", "794", ",", "795", ",", "796", ",", "797", ",", "799", 
          ",", "800", ",", "801", ",", "802", ",", "804", ",", "805", ",", 
          "806", ",", "807", ",", "809", ",", "810", ",", "811", ",", "812", 
          ",", "813", ",", "814", ",", "815", ",", "816", ",", "817", ",", 
          "818", ",", "819", ",", "820", ",", "821", ",", "823", ",", "824", 
          ",", "825", ",", "826", ",", "827", ",", "830", ",", "832", ",", 
          "835", ",", "836", ",", "837", ",", "839", ",", "840", ",", "841", 
          ",", "842", ",", "843", ",", "844", ",", "846", ",", "847", ",", 
          "848", ",", "850", ",", "851", ",", "852", ",", "853", ",", "854", 
          ",", "855", ",", "857", ",", "859", ",", "861", ",", "862", ",", 
          "864", ",", "865", ",", "866", ",", "868", ",", "872", ",", "874", 
          ",", "875", ",", "876", ",", "878", ",", "881", ",", "883", ",", 
          "884", ",", "885", ",", "886", ",", "887", ",", "888", ",", "890", 
          ",", "892", ",", "893", ",", "894", ",", "896", ",", "897", ",", 
          "898", ",", "899", ",", "900", ",", "901", ",", "902", ",", "906", 
          ",", "908", ",", "909", ",", "910", ",", "911", ",", "913", ",", 
          "914", ",", "915", ",", "917", ",", "918", ",", "919", ",", "920", 
          ",", "922", ",", "925", ",", "928", ",", "929", ",", "930", ",", 
          "931", ",", "932", ",", "933", ",", "934", ",", "935", ",", "937", 
          ",", "938", ",", "939", ",", "943", ",", "945", ",", "947", ",", 
          "948", ",", "949", ",", "950", ",", "953", ",", "954", ",", "957", 
          ",", "958", ",", "960", ",", "961", ",", "962", ",", "963", ",", 
          "964", ",", "965", ",", "967", ",", "969", ",", "970", ",", "971", 
          ",", "974", ",", "975", ",", "976", ",", "977", ",", "978", ",", 
          "979", ",", "982", ",", "983", ",", "984", ",", "987", ",", "988", 
          ",", "989", ",", "990", ",", "991", ",", "993", ",", "995", ",", 
          "996", ",", "997", ",", "1000", ",", "1003", ",", "1007", ",", 
          "1008", ",", "1010", ",", "1014", ",", "1015", ",", "1016", ",", 
          "1017", ",", "1018", ",", "1022", ",", "1023", ",", "1024", ",", 
          "1025", ",", "1026", ",", "1027", ",", "1028", ",", "1029", ",", 
          "1030", ",", "1031", ",", "1032", ",", "1033", ",", "1034", ",", 
          "1035", ",", "1036", ",", "1038", ",", "1039", ",", "1040", ",", 
          "1042", ",", "1043", ",", "1044", ",", "1045", ",", "1046", ",", 
          "1047", ",", "1048", ",", "1049", ",", "1050", ",", "1051", ",", 
          "1052", ",", "1053", ",", "1054", ",", "1056", ",", "1058", ",", 
          "1059", ",", "1060", ",", "1062", ",", "1064", ",", "1065", ",", 
          "1066", ",", "1067", ",", "1068", ",", "1070", ",", "1071", ",", 
          "1072", ",", "1073", ",", "1074", ",", "1075", ",", "1078", ",", 
          "1080", ",", "1081", ",", "1082", ",", "1083", ",", "1085", ",", 
          "1086", ",", "1087", ",", "1088", ",", "1089", ",", "1091", ",", 
          "1094", ",", "1095", ",", "1098", ",", "1099", ",", "1100", ",", 
          "1103", ",", "1105", ",", "1106", ",", "1107", ",", "1108", ",", 
          "1109", ",", "1112", ",", "1113", ",", "1114", ",", "1115", ",", 
          "1116", ",", "1117", ",", "1119", ",", "1121", ",", "1122", ",", 
          "1123", ",", "1124", ",", "1126", ",", "1127", ",", "1128", ",", 
          "1129", ",", "1131", ",", "1132", ",", "1133", ",", "1136", ",", 
          "1137", ",", "1138", ",", "1139", ",", "1140", ",", "1142", ",", 
          "1143", ",", "1144", ",", "1147", ",", "1149", ",", "1150", ",", 
          "1151", ",", "1152", ",", "1153", ",", "1155", ",", "1156", ",", 
          "1157", ",", "1159", ",", "1160", ",", "1161", ",", "1162", ",", 
          "1164", ",", "1165", ",", "1166", ",", "1167", ",", "1168", ",", 
          "1169", ",", "1170", ",", "1171", ",", "1172", ",", "1174", ",", 
          "1176", ",", "1177", ",", "1178", ",", "1179", ",", "1182", ",", 
          "1184", ",", "1187", ",", "1188", ",", "1190", ",", "1191", ",", 
          "1192", ",", "1193", ",", "1194", ",", "1195", ",", "1196", ",", 
          "1197", ",", "1198", ",", "1199", ",", "1200", ",", "1202", ",", 
          "1203", ",", "1204", ",", "1205", ",", "1206", ",", "1208", ",", 
          "1209", ",", "1210", ",", "1211", ",", "1212", ",", "1213", ",", 
          "1214", ",", "1215", ",", "1216", ",", "1218", ",", "1219", ",", 
          "1220", ",", "1221", ",", "1222", ",", "1223", ",", "1224", ",", 
          "1225", ",", "1226", ",", "1227", ",", "1229", ",", "1230", ",", 
          "1231", ",", "1232", ",", "1233", ",", "1234", ",", "1235", ",", 
          "1239", ",", "1241", ",", "1242", ",", "1244", ",", "1245", ",", 
          "1247", ",", "1248", ",", "1249", ",", "1250", ",", "1251", ",", 
          "1252", ",", "1253", ",", "1255", ",", "1256", ",", "1257", ",", 
          "1258", ",", "1260", ",", "1261", ",", "1262", ",", "1263", ",", 
          "1264", ",", "1266", ",", "1269", ",", "1270", ",", "1271", ",", 
          "1273", ",", "1275", ",", "1277", ",", "1279", ",", "1281", ",", 
          "1282", ",", "1284", ",", "1285", ",", "1286", ",", "1287", ",", 
          "1288", ",", "1289", ",", "1290", ",", "1291", ",", "1293", ",", 
          "1294", ",", "1295", ",", "1296", ",", "1298", ",", "1299", ",", 
          "1300", ",", "1301", ",", "1304", ",", "1305", ",", "1306", ",", 
          "1307", ",", "1308", ",", "1309", ",", "1311", ",", "1312", ",", 
          "1313", ",", "1315", ",", "1316", ",", "1317", ",", "1318", ",", 
          "1320", ",", "1322", ",", "1323", ",", "1324", ",", "1326", ",", 
          "1327", ",", "1328", ",", "1329", ",", "1331", ",", "1333", ",", 
          "1334", ",", "1335", ",", "1336", ",", "1337", ",", "1338", ",", 
          "1341", ",", "1342", ",", "1343", ",", "1344", ",", "1346", ",", 
          "1347", ",", "1348", ",", "1349", ",", "1352", ",", "1353", ",", 
          "1354", ",", "1355", ",", "1356", ",", "1357", ",", "1358", ",", 
          "1359", ",", "1360", ",", "1362", ",", "1363", ",", "1365", ",", 
          "1366", ",", "1369", ",", "1370", ",", "1371", ",", "1373", ",", 
          "1375", ",", "1377", ",", "1378", ",", "1379", ",", "1382", ",", 
          "1383", ",", "1384", ",", "1386", ",", "1387", ",", "1388", ",", 
          "1389", ",", "1390", ",", "1391", ",", "1392", ",", "1394", ",", 
          "1395", ",", "1397", ",", "1398", ",", "1400", ",", "1401", ",", 
          "1403", ",", "1404", ",", "1405", ",", "1406", ",", "1407", ",", 
          "1408", ",", "1409", ",", "1410", ",", "1413", ",", "1414", ",", 
          "1415", ",", "1418", ",", "1419", ",", "1420", ",", "1423", ",", 
          "1424", ",", "1425", ",", "1426", ",", "1429", ",", "1432", ",", 
          "1433", ",", "1434", ",", "1435", ",", "1436", ",", "1437", ",", 
          "1438", ",", "1439", ",", "1440"}], "}"}], "Text"]}], ",", 
      RowBox[{"(*", 
       RowBox[{"1000", " ", "\:043c\:0430\:0448\:0438\:043d"}], "*)"}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "\:041d\:0430\:0441\:0442\:0440\:043e\:0439\:043a\:0438", " ", 
        "\:0441\:0438\:0441\:0442\:0435\:043c\:044b"}], "*)"}], 
      RowBox[{"numColumns", "=", "4"}], ",", 
      RowBox[{"numRight", " ", "=", " ", "2"}], ",", 
      RowBox[{"numCashiers", "=", "2"}], ",", 
      RowBox[{"fillingSpeed", "=", "20"}], ",", 
      RowBox[{"endTime", "=", "1440"}], ",", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "\:0421\:0438\:0441\:0442\:0435\:043c\:043d\:044b\:0435", " ", 
        "\:043f\:0435\:0440\:0435\:043c\:0435\:043d\:043d\:044b\:0435"}], 
       "*)"}], "$tankSides", ",", "$fuelVolume", ",", "$paymentTimes", ",", 
      "$paymentTypes", ",", "$purchasesQ", ",", "$columnSides", ",", 
      RowBox[{"$clientData", "=", 
       RowBox[{"{", "}"}]}], ",", "$columnQueues", ",", "completedClients", 
      ",", " ", "$arrivals"}], "}"}], ",", 
    RowBox[{
     RowBox[{"$statsWindow", "=", "Null"}], ";", 
     RowBox[{"$simulationStats", "=", 
      RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"Manipulate", "[", 
      RowBox[{
       RowBox[{"Column", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
           "\"\<\:041d\:0430\:0441\:0442\:0440\:043e\:0439\:043a\:0438 \:0410\
\:0417\:0421\>\"", ",", "Bold", ",", "18", ",", 
            RowBox[{"FontFamily", "->", "\"\<Arial\>\""}]}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0423\:0440\:043e\:0432\:0435\:043d\:044c", " ", 
            "\:0441\:043b\:043e\:0436\:043d\:043e\:0441\:0442\:0438"}], 
           "*)"}], 
          RowBox[{"Grid", "[", 
           RowBox[{"{", 
            RowBox[{"{", 
             RowBox[{
             "\"\<\:0423\:0440\:043e\:0432\:0435\:043d\:044c \:0437\:0430\
\:0433\:0440\:0443\:0436\:0435\:043d\:043d\:043e\:0441\:0442\:0438:\>\"", ",", 
              RowBox[{"RadioButtonBar", "[", 
               RowBox[{
                RowBox[{"Dynamic", "[", 
                 RowBox[{"level", ",", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"level", "=", "#"}], ";", 
                    RowBox[{"updateSystem", "[", "]"}]}], ")"}], "&"}]}], 
                 "]"}], ",", "\[IndentingNewLine]", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                  "\"\<\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439\
\>\"", "->", 
                   "\"\<\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439\
 (250 \:043c\:0430\:0448\:0438\:043d)\>\""}], ",", 
                  RowBox[{
                  "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\"", "->", 
                   "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439 (500 \
\:043c\:0430\:0448\:0438\:043d)\>\""}], ",", 
                  RowBox[{
                  "\"\<\:041f\:043b\:043e\:0442\:043d\:044b\:0439\>\"", "->", 
                   "\"\<\:041f\:043b\:043e\:0442\:043d\:044b\:0439 (1000 \
\:043c\:0430\:0448\:0438\:043d)\>\""}]}], "}"}], ",", 
                RowBox[{"Appearance", "->", "\"\<Vertical\>\""}]}], "]"}]}], 
             "}"}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041f\:0440\:043e\:0441\:043c\:043e\:0442\:0440", " ", 
            "\:0441\:043f\:0438\:0441\:043a\:043e\:0432", " ", 
            "\:0432\:0440\:0435\:043c\:0435\:043d", " ", 
            "\:043f\:0440\:0438\:0431\:044b\:0442\:0438\:044f"}], "*)"}], 
          RowBox[{"Dynamic", "@", 
           RowBox[{"Panel", "[", 
            RowBox[{"Column", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Style", "[", 
                RowBox[{
                 RowBox[{
                 "\"\<\:0422\:0435\:043a\:0443\:0449\:0438\:0439 \:0443\:0440\
\:043e\:0432\:0435\:043d\:044c: \>\"", "<>", "level"}], ",", "Bold"}], "]"}], 
               ",", 
               RowBox[{"OpenerView", "[", 
                RowBox[{"{", 
                 RowBox[{
                 "\"\<\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \:0432\
\:0440\:0435\:043c\:0435\:043d\:0430 \:043f\:0440\:0438\:0431\:044b\:0442\
\:0438\:044f\>\"", ",", 
                  RowBox[{"Column", "[", 
                   RowBox[{"{", 
                    RowBox[{
                    "\"\<\:041f\:0435\:0440\:0432\:044b\:0435 10 \:0437\:043d\
\:0430\:0447\:0435\:043d\:0438\:0439:\>\"", ",", 
                    RowBox[{"Take", "[", 
                    RowBox[{
                    RowBox[{"Switch", "[", 
                    RowBox[{
                    "level", ",", 
                    "\"\<\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\
\:0439\>\"", ",", "light", ",", 
                    "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\"", ",",
                     "medium", ",", 
                    "\"\<\:041f\:043b\:043e\:0442\:043d\:044b\:0439\>\"", ",",
                     "hard"}], "]"}], ",", "10"}], "]"}], ",", 
                    RowBox[{"Button", "[", 
                    RowBox[{
                    "\"\<\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \
\:043f\:043e\:043b\:043d\:044b\:0439 \
\:0441\:043f\:0438\:0441\:043e\:043a\>\"", ",", 
                    RowBox[{"CreateDialog", "[", 
                    RowBox[{"TextCell", "[", 
                    RowBox[{
                    RowBox[{"ToString", "@", 
                    RowBox[{"Switch", "[", 
                    RowBox[{
                    "level", ",", 
                    "\"\<\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\
\:0439\>\"", ",", "light", ",", 
                    "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\"", ",",
                     "medium", ",", 
                    "\"\<\:041f\:043b\:043e\:0442\:043d\:044b\:0439\>\"", ",",
                     "hard"}], "]"}]}], ",", 
                    RowBox[{"PageWidth", "->", "600"}]}], "]"}], "]"}]}], 
                    "]"}]}], "}"}], "]"}]}], "}"}], "]"}]}], "}"}], "]"}], 
            "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0423\:043f\:0440\:0430\:0432\:043b\:0435\:043d\:0438\:0435", 
            " ", "\:043f\:0440\:043e\:0444\:0438\:043b\:044f\:043c\:0438"}], 
           "*)"}], "\[IndentingNewLine]", 
          RowBox[{"Grid", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "\"\<\:0422\:0435\:043a\:0443\:0449\:0438\:0439 \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c:\>\"", ",", 
               RowBox[{"Dynamic", "[", 
                RowBox[{"PopupMenu", "[", 
                 RowBox[{
                  RowBox[{"Dynamic", "[", 
                   RowBox[{"currentProfile", ",", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"currentProfile", "=", "#"}], ";", 
                    RowBox[{"loadProfile", "[", "]"}], ";"}], ")"}], "&"}]}], 
                   "]"}], ",", 
                  RowBox[{"Keys", "[", "profiles", "]"}], ",", 
                  RowBox[{"ImageSize", "->", "200"}]}], "]"}], "]"}]}], "}"}],
              ",", 
             RowBox[{"{", 
              RowBox[{
              "\"\<\:041d\:043e\:0432\:044b\:0439 \:043f\:0440\:043e\:0444\
\:0438\:043b\:044c:\>\"", ",", 
               RowBox[{"InputField", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "newProfileName", "]"}], ",", 
                 "String", ",", 
                 RowBox[{
                 "FieldHint", "->", 
                  "\"\<\:0412\:0432\:0435\:0434\:0438\:0442\:0435 \
\:0438\:043c\:044f \:043f\:0440\:043e\:0444\:0438\:043b\:044f\>\""}]}], 
                "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<\>\"", ",", 
               RowBox[{"Row", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"Button", "[", 
                   RowBox[{
                   "\"\<\:0421\:043e\:0437\:0434\:0430\:0442\:044c\>\"", ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"newProfileName", "!=", "\"\<\>\""}], "&&", 
                    RowBox[{"!", 
                    RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"profiles", ",", "newProfileName"}], "]"}]}]}], 
                    ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"profiles", "[", "newProfileName", "]"}], "=", 
                    RowBox[{"<|", 
                    RowBox[{
                    RowBox[{"\"\<Columns\>\"", "->", "numColumns"}], ",", 
                    RowBox[{"\"\<RColumns\>\"", "->", " ", "numRight"}], ",", 
                    RowBox[{"\"\<Cashiers\>\"", "->", "numCashiers"}], ",", 
                    RowBox[{"\"\<FillingSpeed\>\"", "->", "fillingSpeed"}], 
                    ",", 
                    RowBox[{"\"\<EndTime\>\"", "->", "endTime"}], ",", 
                    RowBox[{"\"\<Level\>\"", "->", "level"}]}], "|>"}]}], ";",
                     "\[IndentingNewLine]", 
                    RowBox[{"currentProfile", "=", "newProfileName"}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"newProfileName", "=", "\"\<\>\""}], ";"}]}], 
                    "]"}]}], "]"}], ",", 
                  RowBox[{"Button", "[", 
                   RowBox[{
                   "\"\<\:0421\:043e\:0445\:0440\:0430\:043d\:0438\:0442\:044c\
\>\"", ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"profiles", "[", "currentProfile", "]"}], "=", 
                    RowBox[{"<|", 
                    RowBox[{
                    RowBox[{"\"\<Columns\>\"", "->", "numColumns"}], ",", 
                    RowBox[{"\"\<RColumns\>\"", "->", " ", "numRight"}], ",", 
                    RowBox[{"\"\<Cashiers\>\"", "->", "numCashiers"}], ",", 
                    RowBox[{"\"\<FillingSpeed\>\"", "->", "fillingSpeed"}], 
                    ",", 
                    RowBox[{"\"\<EndTime\>\"", "->", "endTime"}], ",", 
                    RowBox[{"\"\<Level\>\"", "->", "level"}]}], "|>"}]}], 
                    ";"}]}], "]"}], ",", 
                  RowBox[{"Button", "[", 
                   RowBox[{
                   "\"\<\:0423\:0434\:0430\:043b\:0438\:0442\:044c\>\"", ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"currentProfile", "!=", "\"\<Default\>\""}], "&&", 
                    RowBox[{"KeyExistsQ", "[", 
                    RowBox[{"profiles", ",", "currentProfile"}], "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"KeyDropFrom", "[", 
                    RowBox[{"profiles", ",", "currentProfile"}], "]"}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"currentProfile", "=", "\"\<Default\>\""}], ";", 
                    RowBox[{"(*", 
                    RowBox[{
                    "\:0423\:0441\:0442\:0430\:043d\:0430\:0432\:043b\:0438\
\:0432\:0430\:0435\:043c", " ", "Default", " ", 
                    "\:043f\:0440\:043e\:0444\:0438\:043b\:044c"}], "*)"}], 
                    RowBox[{"loadProfile", "[", "]"}], ";"}]}], 
                    RowBox[{"(*", 
                    RowBox[{
                    "\:041f\:0435\:0440\:0435\:0437\:0430\:0433\:0440\:0443\
\:0436\:0430\:0435\:043c", " ", 
                    "\:043d\:0430\:0441\:0442\:0440\:043e\:0439\:043a\:0438"}]\
, "*)"}], "]"}], ",", 
                    RowBox[{"Enabled", "->", 
                    RowBox[{"Dynamic", "[", 
                    RowBox[{"currentProfile", "!=", "\"\<Default\>\""}], 
                    "]"}]}]}], "]"}]}], "}"}], "]"}]}], "}"}]}], "}"}], "]"}],
           ",", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041e\:0441\:043d\:043e\:0432\:043d\:044b\:0435", " ", 
            "\:043f\:0430\:0440\:0430\:043c\:0435\:0442\:0440\:044b"}], 
           "*)"}], "\[IndentingNewLine]", 
          RowBox[{"Grid", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "\"\<\:041e\:0431\:0449\:0435\:0435 \:043a\:043e\:043b\:0438\
\:0447\:0435\:0441\:0442\:0432\:043e \:043a\:043e\:043b\:043e\:043d\:043e\
\:043a:\>\"", ",", 
               RowBox[{"Slider", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", 
                  RowBox[{"numColumns", ",", 
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"numColumns", "=", "#"}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"numRight", ">", "numColumns"}], ",", 
                    RowBox[{"numRight", "=", "numColumns"}]}], "]"}], ";", 
                    RowBox[{"updateSystem", "[", "]"}]}], ")"}], "&"}]}], 
                  "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"1", ",", "20", ",", "1"}], "}"}], ",", 
                 RowBox[{"Appearance", "->", "\"\<Labeled\>\""}]}], "]"}]}], 
              "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
              "\"\<\:041f\:0440\:0430\:0432\:044b\:0435 \:043a\:043e\:043b\
\:043e\:043d\:043a\:0438:\>\"", ",", 
               RowBox[{"Dynamic", "[", 
                RowBox[{"Row", "[", 
                 RowBox[{"{", 
                  RowBox[{"Slider", "[", 
                   RowBox[{
                    RowBox[{"Dynamic", "[", "numRight", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "numColumns", ",", "1"}], "}"}], ",", 
                    RowBox[{"Appearance", "->", "\"\<Labeled\>\""}]}], "]"}], 
                  "}"}], "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
              "\"\<\:041a\:0430\:0441\:0441\:0438\:0440\:043e\:0432:\>\"", 
               ",", 
               RowBox[{"Slider", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "numCashiers", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"1", ",", "10", ",", "1"}], "}"}], ",", 
                 RowBox[{"Appearance", "->", "\"\<Labeled\>\""}]}], "]"}]}], 
              "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
              "\"\<\:0421\:043a\:043e\:0440\:043e\:0441\:0442\:044c \:0437\
\:0430\:043f\:0440\:0430\:0432\:043a\:0438 (\:043b/\:043c\:0438\:043d):\>\"", 
               ",", 
               RowBox[{"Slider", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "fillingSpeed", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"20", ",", "80", ",", "1"}], "}"}], ",", 
                 RowBox[{"Appearance", "->", "\"\<Labeled\>\""}]}], "]"}]}], 
              "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
              "\"\<\:041e\:043a\:043e\:043d\:0447\:0430\:043d\:0438\:0435 \
\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:0438 (\:043c\:0438\:043d\
\:0443\:0442\:044b):\>\"", ",", 
               RowBox[{"Slider", "[", 
                RowBox[{
                 RowBox[{"Dynamic", "[", "endTime", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"1", ",", "1440", ",", "1"}], "}"}], ",", 
                 RowBox[{"Appearance", "->", "\"\<Labeled\>\""}]}], "]"}]}], 
              "}"}]}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041a\:043d\:043e\:043f\:043a\:0430", " ", 
            "\:0437\:0430\:043f\:0443\:0441\:043a\:0430"}], "*)"}], 
          RowBox[{"Button", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
             "\"\<\:0417\:0430\:043f\:0443\:0441\:0442\:0438\:0442\:044c \
\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:044e\>\"", ",", "Bold", ",",
               "14"}], "]"}], ",", 
            RowBox[{"initAndRun", "[", "]"}], ",", 
            RowBox[{"ImageSize", "->", "250"}], ",", 
            RowBox[{"Background", "->", "LightBlue"}]}], "]"}], ",", " ", 
          RowBox[{"Button", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
             "\"\<\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \:043b\
\:0443\:0447\:0448\:0438\:0435 \:043d\:0430\:0441\:0442\:0440\:043e\:0439\
\:043a\:0438\>\"", ",", "Bold", ",", "12"}], "]"}], ",", 
            RowBox[{"showBestSimulation", "[", "]"}], ",", 
            RowBox[{"ImageSize", "->", "250"}], ",", 
            RowBox[{"Background", "->", "LightOrange"}]}], "]"}]}], "}"}], 
        "]"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"Initialization", ":>", 
        RowBox[{"(", 
         RowBox[{"(*", 
          RowBox[{
          "\:0417\:0430\:0433\:0440\:0443\:0437\:043a\:0430", " ", 
           "\:043f\:0440\:043e\:0444\:0438\:043b\:0435\:0439", " ", 
           "\:043f\:0440\:0438", " ", 
           "\:0438\:043d\:0438\:0446\:0438\:0430\:043b\:0438\:0437\:0430\:0446\
\:0438\:0438"}], "*)"}], 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Keys", "[", "profiles", "]"}], "]"}], "==", "0"}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{"profiles", "[", "\"\<Default\>\"", "]"}], "=", 
              RowBox[{"<|", 
               RowBox[{
                RowBox[{"\"\<Columns\>\"", "->", "4"}], ",", 
                RowBox[{"\"\<RColumns\>\"", "->", "2"}], ",", 
                RowBox[{"\"\<Cashiers\>\"", "->", "2"}], ",", 
                RowBox[{"\"\<FillingSpeed\>\"", "->", "20"}], ",", 
                RowBox[{"\"\<EndTime\>\"", "->", "1440"}], ",", 
                RowBox[{
                "\"\<Level\>\"", "->", 
                 "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\""}]}], 
               "|>"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{
             "Print", "[", 
              "\"\<\:0421\:043e\:0437\:0434\:0430\:043d Default \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c\>\"", "]"}]}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"loadProfile", "[", "]"}], ":=", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"profiles", ",", "currentProfile"}], "]"}], ",", 
             RowBox[{
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "numColumns", ",", "numRight", ",", "numCashiers", ",", 
                 "fillingSpeed", ",", "endTime", ",", "level"}], "}"}], "=", 
               RowBox[{"Lookup", "[", 
                RowBox[{
                 RowBox[{"profiles", "[", "currentProfile", "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                  "\"\<Columns\>\"", ",", "\"\<RColumns\>\"", ",", 
                   "\"\<Cashiers\>\"", ",", "\"\<FillingSpeed\>\"", ",", 
                   "\"\<EndTime\>\"", ",", "\"\<Level\>\""}], "}"}]}], 
                "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"updateSystem", "[", "]"}], ";", "\[IndentingNewLine]", 
              RowBox[{"Print", "[", 
               RowBox[{
               "\"\<\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\
\:0440\:043e\:0444\:0438\:043b\:044c '\>\"", ",", "currentProfile", ",", 
                "\"\<'\>\""}], "]"}], ";"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "\:041f\:0435\:0440\:0432\:043e\:043d\:0430\:0447\:0430\:043b\:044c\
\:043d\:0430\:044f", " ", 
            "\:0437\:0430\:0433\:0440\:0443\:0437\:043a\:0430"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"loadProfile", "[", "]"}], ";", "\[IndentingNewLine]", 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0423\:0441\:0442\:0430\:043d\:043e\:0432\:043a\:0430", " ", 
            "\:0442\:0435\:043a\:0443\:0449\:0435\:0433\:043e", " ", 
            "\:043f\:0440\:043e\:0444\:0438\:043b\:044f"}], "*)"}], 
          RowBox[{"currentProfile", "=", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"KeyExistsQ", "[", 
              RowBox[{"profiles", ",", "\"\<Default\>\""}], "]"}], ",", 
             "\"\<Default\>\"", ",", 
             RowBox[{"First", "[", 
              RowBox[{"Keys", "[", "profiles", "]"}], "]"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0417\:0430\:0433\:0440\:0443\:0437\:043a\:0430", " ", 
            "\:0442\:0435\:043a\:0443\:0449\:0435\:0433\:043e", " ", 
            "\:043f\:0440\:043e\:0444\:0438\:043b\:044f"}], "*)"}], 
          RowBox[{
           RowBox[{"loadProfile", "[", "]"}], ":=", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"KeyExistsQ", "[", 
                RowBox[{"profiles", ",", "currentProfile"}], "]"}], ",", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                  "numColumns", ",", "numRight", ",", "numCashiers", ",", 
                   "fillingSpeed", ",", "endTime", ",", "level"}], "}"}], "=", 
                 RowBox[{"Lookup", "[", 
                  RowBox[{
                   RowBox[{"profiles", "[", "currentProfile", "]"}], ",", 
                   RowBox[{"{", 
                    RowBox[{
                    "\"\<Columns\>\"", ",", "\"\<RColumns\>\"", ",", 
                    "\"\<Cashiers\>\"", ",", "\"\<FillingSpeed\>\"", ",", 
                    "\"\<EndTime\>\"", ",", "\"\<Level\>\""}], "}"}]}], 
                  "]"}]}], ";", "\[IndentingNewLine]", 
                RowBox[{"updateSystem", "[", "]"}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{"Print", "[", 
                 RowBox[{
                 "\"\<\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\
\:0440\:043e\:0444\:0438\:043b\:044c '\>\"", ",", "currentProfile", ",", 
                  "\"\<'\>\""}], "]"}], ";"}]}], "]"}], ";"}], ")"}]}], ";", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041e\:0431\:043d\:043e\:0432\:043b\:0435\:043d\:0438\:0435", 
            " ", "\:0441\:0438\:0441\:0442\:0435\:043c\:044b"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"updateSystem", "[", "]"}], ":=", 
           RowBox[{"(", 
            RowBox[{"$arrivals", "=", 
             RowBox[{"Switch", "[", 
              RowBox[{
              "level", ",", "\[IndentingNewLine]", 
               "\"\<\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439\>\"\
", ",", 
               RowBox[{"Select", "[", 
                RowBox[{"light", ",", 
                 RowBox[{
                  RowBox[{"#", "<=", "endTime"}], "&"}]}], "]"}], ",", 
               "\[IndentingNewLine]", 
               "\"\<\:0421\:0440\:0435\:0434\:043d\:0438\:0439\>\"", ",", 
               RowBox[{"Select", "[", 
                RowBox[{"medium", ",", 
                 RowBox[{
                  RowBox[{"#", "<=", "endTime"}], "&"}]}], "]"}], ",", 
               "\[IndentingNewLine]", 
               "\"\<\:041f\:043b\:043e\:0442\:043d\:044b\:0439\>\"", ",", 
               RowBox[{"Select", "[", 
                RowBox[{"hard", ",", 
                 RowBox[{
                  RowBox[{"#", "<=", "endTime"}], "&"}]}], "]"}]}], "]"}]}], 
            ")"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0418\:043d\:0438\:0446\:0438\:0430\:043b\:0438\:0437\:0430\:0446\
\:0438\:044f", " ", "\:0441\:043b\:0443\:0447\:0430\:0439\:043d\:044b\:0445", 
            " ", "\:0434\:0430\:043d\:043d\:044b\:0445"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"initializeRandomData", "[", "]"}], ":=", 
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"nClients", "=", 
               RowBox[{"Length", "[", "$arrivals", "]"}]}], "}"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"$tankSides", "=", 
               RowBox[{"RandomChoice", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"\"\<left\>\"", ",", "\"\<right\>\""}], "}"}], ",", 
                 "nClients"}], "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"$fuelVolume", "=", 
               RowBox[{"RandomReal", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"20", ",", "60"}], "}"}], ",", "nClients"}], 
                "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"$paymentTimes", "=", 
               RowBox[{"RandomReal", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"0.5", ",", "2"}], "}"}], ",", "nClients"}], 
                "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"$paymentTypes", "=", 
               RowBox[{"RandomChoice", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"\"\<card\>\"", ",", "\"\<cash\>\""}], "}"}], ",", 
                 "nClients"}], "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"$purchasesQ", "=", 
               RowBox[{"RandomChoice", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"True", ",", "False"}], "}"}], ",", "nClients"}], 
                "]"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"$columnSides", " ", "=", " ", 
               RowBox[{"Join", "[", 
                RowBox[{
                 RowBox[{"ConstantArray", "[", 
                  RowBox[{"\"\<right\>\"", ",", " ", 
                   RowBox[{"If", " ", "[", 
                    RowBox[{
                    RowBox[{"numRight", "==", "numColumns"}], ",", " ", 
                    "numColumns", ",", " ", "numRight"}], "]"}]}], "]"}], ",", 
                 RowBox[{"ConstantArray", "[", 
                  RowBox[{"\"\<left\>\"", ",", " ", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"numColumns", " ", "-", " ", "numRight"}], ">", 
                    "0"}], ",", " ", 
                    RowBox[{"numColumns", " ", "-", " ", "numRight"}], ",", 
                    " ", "0"}], "]"}]}], "]"}]}], "]"}]}]}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:0417\:0430\:043f\:0443\:0441\:043a", " ", 
            "\:0441\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:0438"}], 
           "*)"}], "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"initAndRun", "[", "]"}], ":=", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"updateSystem", "[", "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"initializeRandomData", "[", "]"}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"$columnQueues", "=", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"{", "}"}], ",", 
                RowBox[{"{", "numColumns", "}"}]}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"initSystem", "[", 
              RowBox[{
              "numColumns", ",", "$columnSides", ",", "fillingSpeed", ",", 
               "numCashiers", ",", "$arrivals", ",", "$tankSides", ",", 
               "$fuelVolume", ",", "$paymentTimes", ",", "$paymentTypes", ",",
                "$purchasesQ"}], "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"simulateSystem", "[", 
              RowBox[{"currentProfile", ",", " ", "endTime"}], "]"}]}], 
            ")"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "\:041f\:0435\:0440\:0432\:043e\:043d\:0430\:0447\:0430\:043b\:044c\
\:043d\:0430\:044f", " ", 
            "\:0437\:0430\:0433\:0440\:0443\:0437\:043a\:0430"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"loadProfile", "[", "]"}]}], ")"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"ControlPlacement", "->", "Left"}], ",", 
       RowBox[{"Paneled", "->", "True"}], ",", 
       RowBox[{"FrameMargins", "->", "20"}], ",", 
       RowBox[{"AppearanceElements", "->", "None"}], ",", 
       RowBox[{"TrackedSymbols", ":>", 
        RowBox[{"{", "}"}]}]}], "]"}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.956417212370613*^9, 3.9564172189379272`*^9}, 
   3.956417252010084*^9, {3.956450522345049*^9, 3.956450600508932*^9}, {
   3.9564512120272465`*^9, 3.956451214773506*^9}, {3.9564533738208027`*^9, 
   3.9564534190776196`*^9}, {3.956453505306793*^9, 3.956453508551611*^9}, {
   3.956453806439102*^9, 3.9564538504040585`*^9}, 3.956453931387501*^9, {
   3.9564539772252827`*^9, 3.9564539774210167`*^9}, {3.9564540256332855`*^9, 
   3.9564540401652813`*^9}, {3.95645413743655*^9, 3.9564542360128536`*^9}, 
   3.9564543223417416`*^9, {3.956454354117138*^9, 3.956454391033079*^9}, {
   3.9564544717733154`*^9, 3.9564544904680195`*^9}, {3.9564545525682793`*^9, 
   3.956454565102356*^9}, {3.956454632270153*^9, 3.9564546328477707`*^9}, {
   3.956454754640087*^9, 3.956454770360674*^9}, {3.956454900988041*^9, 
   3.956454901727236*^9}, 3.9564550573200703`*^9, {3.9565687404895115`*^9, 
   3.956568827894949*^9}, {3.956657397564152*^9, 3.9566573986061554`*^9}, {
   3.956663753556614*^9, 3.9566638085254*^9}, 3.9566638585899887`*^9, {
   3.956744473542227*^9, 3.956744474161312*^9}, {3.9567521668204823`*^9, 
   3.95675217161796*^9}, {3.9567524448279495`*^9, 3.9567524468831635`*^9}, {
   3.956754208102133*^9, 3.9567542085793552`*^9}, 3.956754356637396*^9, {
   3.9568398805587635`*^9, 3.956839882524063*^9}, {3.956841264303524*^9, 
   3.956841267427656*^9}, {3.956841410016819*^9, 3.956841436666334*^9}, {
   3.9568417968209095`*^9, 3.9568418134321404`*^9}, {3.956845847407551*^9, 
   3.9568458503262653`*^9}, {3.9568462090076313`*^9, 3.9568462136210136`*^9}, 
   3.9568463206523857`*^9, {3.9568466442662754`*^9, 3.956846646143778*^9}, {
   3.9568467105974255`*^9, 3.956846711646473*^9}, 3.956846771363655*^9, {
   3.956846921696232*^9, 3.9568469371303787`*^9}, {3.9568470235537567`*^9, 
   3.95684703329389*^9}, 3.956847351910576*^9, {3.956847426392868*^9, 
   3.956847454360571*^9}, {3.956847492107382*^9, 3.9568474924235477`*^9}, 
   3.95684789315864*^9, 3.956848019150833*^9, {3.956848054995962*^9, 
   3.9568481116134205`*^9}, {3.956848338871748*^9, 3.956848373663475*^9}, {
   3.956848404884796*^9, 3.9568484060045395`*^9}, {3.9568486228459606`*^9, 
   3.956848660560528*^9}, {3.9568486973528233`*^9, 3.956848703371668*^9}, {
   3.9568487446299477`*^9, 3.9568488615348396`*^9}, {3.956848900110531*^9, 
   3.9568489228806057`*^9}, {3.956849007807966*^9, 3.956849062694481*^9}, {
   3.956849234967163*^9, 3.9568492401503773`*^9}, 3.956849421343479*^9, {
   3.9569275215002613`*^9, 3.9569275245661182`*^9}, {3.9569316197012215`*^9, 
   3.956931631580652*^9}, {3.956931786185959*^9, 3.9569317892222137`*^9}, {
   3.956931834742237*^9, 3.9569319533618813`*^9}, {3.9569327150025883`*^9, 
   3.956932746198963*^9}, {3.956932886583935*^9, 3.9569329363794937`*^9}, 
   3.956933248796461*^9, {3.956933493891222*^9, 3.9569335215989304`*^9}, {
   3.956933572362768*^9, 3.956933610537325*^9}, {3.9570049681825905`*^9, 
   3.957004971143381*^9}, {3.9570054400698795`*^9, 3.9570054431180954`*^9}, {
   3.9570055400605984`*^9, 3.9570055653094482`*^9}, {3.9570056138452187`*^9, 
   3.9570056410405293`*^9}, {3.957005702720272*^9, 3.9570057410582905`*^9}, {
   3.9570058015461254`*^9, 3.957005806432268*^9}, {3.957043249800497*^9, 
   3.9570432751173*^9}, {3.9572364148297005`*^9, 3.9572364335259113`*^9}},
 CellLabel->"In[9]:=",ExpressionUUID->"1bbff6d6-4a6b-cf45-87a0-53e5dae71352"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"makeInterface", "[", "]"}]], "Input",
 CellChangeTimes->{{3.9572364399748344`*^9, 3.957236447732996*^9}},
 CellLabel->"In[11]:=",ExpressionUUID->"47f5a0fe-41a4-e547-97be-2344b8df96f9"],

Cell[BoxData[
 DynamicModuleBox[{$CellContext`profiles$$ = <|
  "Default" -> <|
    "Columns" -> 4, "RColumns" -> 2, "Cashiers" -> 2, "FillingSpeed" -> 20, 
     "EndTime" -> 1440, "Level" -> 
     "\:0421\:0440\:0435\:0434\:043d\:0438\:0439"|>|>, \
$CellContext`currentProfile$$ = "Default", $CellContext`level$$ = 
  "\:0421\:0440\:0435\:0434\:043d\:0438\:0439", $CellContext`newProfileName$$ \
= "", $CellContext`profileDir$$ = 
  "C:\\Users\\MSI\\Documents\\AZS_Profiles", $CellContext`light$$ = \
CompressedData["
1:eJwl0s9PzgEABvBvpVKE2cyGWm9tTQrNxqb8rK2QDe/WsjbEXr8O9XawWRfR
RZOMrVJadcih0cTWXJjaSjYODm0OjJCaxjKzGpnNxzzb5w94nj2hE9FwdUwQ
BPPB/ywgkRWkkU6IDDLJJoc8trGDYkrYwyHClHOYo1QS4RRVnKeWOi5RTwNX
aKSJFm7STgdd9HCHfgYZZozXTDHDt38lFIoliWQyyCGXTeRTQBERTnKaGi5Q
x0UaaKWDTrroo58HPGSIEUZ5zkvGeMc4H5hkimm+MMMcv5gnPjYIEkhiGWtI
I4t15JBHPtvZRREllFHBESqJcIZaGmniOq200c4tOujlLvcZ4AUTfOIz03xn
lp/8ITHOpixiMSksZSWphMggi7Xksp6dlHKAgxwnQpRrNNNCJ9300c8jHvOE
QUZ4yijPeMVHJvjBLL+Jd+QElpNKiEzy2MxuCilmL/soJUw5FUSoopooNZzj
Mg000UY7Pdyml3sMMMQwb3jLOO+Z5CtzzBMTHwRxLCSZFJawitWkk0k2G9jI
FrZSQCHF7OcYZ6kiSj1XuUEz3fwF90N3pQ==
  "], $CellContext`medium$$ = CompressedData["
1:eJwt1IlPEAQUwGHAoymFBlkhVoC1yKTAvE9YqLgYhpbZgaWTIWBK0lyhUmRL
JiGQCR7hkUq6DgrJKzNzyxRRzFYK5ay0ZoiVpoHZ9bn1tu/9Ab+9vahpsyfM
CgwICLh4dZkgOtCZLnQnlDB6cDM96cVtRHIHscTTn4EMYghDGcZIRpHEaMaQ
zDhSSCWNCUxkMulMJYNMsshhNrkUUMhCFlHEYkop5zVep4LlrKCKtWxgIzXU
soU6PmQbO/mIPezlM/axn3oO0sBhGjnCUZo5yY+c4WdaaOVXznOJNtq5zJ90
1L8LwYTQjZsIpxeRRHMnMdzNPcTRj/4MZTijGMNYUkhlElN4iulkkEk2Oczk
aWYzl+eZzwu8TBHFlFDGClZRxWrWsZ5NbOZdtlDHNnawi918yn4OUM9BGjnC
VxzjOE18wwlO8h0/0cov/MZ52rnC3/xDoCMOojNdCSaEboQSxo2EE0Ek0fQm
hrvoQyz3Ekc8/ejPAAYxmOGMYBQJJDKaZMaRQippTGAijzKF6WQygyyyyWEm
uTzDXPIpoJCXeIXFvEoJ5SylgkpWsJJVVLGGdaxnI9VsYjM1vM8H1FLHTvby
OfUcpIHDNHKULznGcZpo5nt+4BSnOcNZWvmdNv76/8EEEkQnriGUG+hBOBFE
EU1v4rmPAQxmBCNJIJH7GUsKDzKZx3icdKYygyyyyWUOeTzLc+QznwUUUMgi
iimhlDKWUUElb7CaNazjTTZQzVtsoY6tbGcnu/iYPRzgEF9wjCaa+ZbTtHCW
c1zgEu1c5t+r/ToGBFxHCN0JpSe3cCuRRNGb2+lLLHH0YyCDGMJQhpFAEsk8
QCrjeYiHmcQjpDOdDLLIJoc55DGPBbxIIUWUsIRSylnKMlZSzdu8w3vUUEsd
W9nODnbzCXvYxwEaOMRhvuYEp2ihlXNc4CJ/0EY7V+jQSUe6Esy1hNCd6wmj
B+FEEEkMfehLLHEMYAjDGUkiSYwlmfGkMZEnSOdJpjKNTGaQRQ6zyCWPueQz
j0IWUswSSimjgkqWs5b/APcQ9TM=
  "], $CellContext`hard$$ = CompressedData["
1:eJwl13d0CAYaAHASQowgoYi9Ytbeapy9aYyWXKqx94q9Y9eKvZXae2+ltuLs
tvZqaW3qrkbvyv3cfe/93vu+/7/3jRyte0R2T5ggQYIHgQn+Fx/yAD6UiQki
mOSkJIQ0hBJGWtKRgYyEk4ksZCUHOclFHiLISz4+pjBFKEoxilOSUpSmLOWo
wCdUpBKVqUJVqlGD2tSlHvVpQEM+pSnNaE5LoojmC74khra0oz0d6EgnutCV
bvSgF72JpQ996c8ABjKYIQxlGHGMZDTjGM8EJjKZKcQznZnMYg5zmccCFrKI
xSxhKctYyRrWsZ4NbGQTm9nCVrazg13sZh/7OcRhjnCU45ziNGc4yznOc4FL
/MCP/MQVrnKN69zkFre5w13u8yuPeMwTnvE7L/kn/+IPXvGaN/zJf/iLd7zn
Q4MmJIBAEhFEMMlIQUpCSE0aQgkjLenJQDiZyEJWspGdXOQmgrzkIz8FKEgR
ilKM4pSkNGUpR3kqUJHKVKEq1alJbepQlwY0pBGRNKUZnxNFNK2IoTVtaEd7
OtCJrnSjB73oTSx96Ed/BjCIwQxjOCOIYySjGcNYxjGer5jIZOKZyjSmM4OZ
zGIOc5nHfBawkMUsYSnLWM4KVrKaNaxlHevZwEY2sYWtbGM7O9jFbvawl318
y34O8B2HOMwRjnKC7znJKU7zD85yjgtc5DJXuMo1rnODm9zmLj9zj/v8ym88
4CGPeMwTnvKM5/zOS17xmrf8xTve82HQBhBIIhITRDDJSE4KUhJCatIQShhp
SU9GwslMVrKTg5zkJg8R5CM/hSlOCUpSitKUoTwV+ISKVKIyVahKNapTg5rU
ojZ1qEt9GtKYSJrQlM9oQUuiiCaGNrSlHe3pSCc604WudKcHPelNLH3oywAG
MoghDGcEcYxkFGMZx0QmMZkpxDOVacxgJrOZx3wWsIRvWMYKVrGaNaxlHevZ
wEY2sZktbGU7O9nFbvawj/0c5BCHOcIxjnOK05zhLOe5wEUu8QM/cpmrXOMG
N7nFbe5wjwc85BFPec4LXvOGd7wnwMIPJDFBJCEpwaQgJSGkIjVpCCWMdHxE
ejISTiYyk4VsZCcHOclNHiLIS34KUJBCfExhilCUYhSnBCUpRRnKUo7yVKAS
VahGdWpQi9rUoS71qE9DGtGYSJrQlGY05zNaEEU0X/AlMbSmLR3pTBe60p1e
xNKHvvSjPwMYxBCGMowRxDGSUYxmDGOZwCQmM4V4pjGdGcxiNnOYy3wWsYRv
WMoylrOClaxiDWtZxya2sI3t7GAne9jLfg5wkEMc5ghHOcYJTnKK05zlHOe5
wEUu8ROXucJ1bnCTW9zmLr9wj/uB/79FH/OcF7zkFa95w1v+5B3vSZDITUAA
gSQiMUEkISnBJCM5KQghFakJJYy0pOMj0pOBjISTicxkISvZyUkuchNBPvJT
gIIUojBFKEoxilOC0pSlHOWpQEUqUZkq/I1q1KQWdalHfRrxKZE0oSnN+JwW
tCSKvxNNK2JoTRva0p4OdKQTXehKN3rSi97E0od+9GcAgxnKMIYzgjhGMZox
jGM8XzGBSUxmCvFMZRrTmcFMZjOXecxnAV+zhGUsZyWrWM0a1rKO9WxgI5vY
zFa2sZ0d7GQ3e9jLPr5lPwf4joMc5ghHOcZxTvA9JznFac5wlnOc5wIXucRl
rnKNG9zkNne4y8/8wj3u8xsPeMgjnvCUZzznBS/5g1e85i3/5i/ek9DTFkAi
EhNEEpISTDKSk5IQUpGaUMJISzoykJFwMpGZLGQjOznIRW7yEEE+ClCQQhSm
CEUpRglKUZoylKUc5alIJSpThapUozo1qE0d6lKP+jSgIY1oTCRNaEZzWtCS
KKJpRQytaUN7OtCRznShK93oTg960ptY+tKPAQxkMEMYyjCGM4I4RjKGsYxj
AhOZRDxTmcZ0ZjGXecxnAQtZxNcsZgn/BTnC31g=
  "], $CellContext`numColumns$$ = 4, $CellContext`numRight$$ = 
  2, $CellContext`numCashiers$$ = 2, $CellContext`fillingSpeed$$ = 
  20, $CellContext`endTime$$ = 
  1440, $CellContext`$tankSides$$, $CellContext`$fuelVolume$$, \
$CellContext`$paymentTimes$$, $CellContext`$paymentTypes$$, \
$CellContext`$purchasesQ$$, $CellContext`$columnSides$$, \
$CellContext`$clientData$$ = {}, $CellContext`$columnQueues$$, \
$CellContext`completedClients$$, $CellContext`$arrivals$$ = CompressedData["
1:eJwt1IlPEAQUwGHAoymFBlkhVoC1yKTAvE9YqLgYhpbZgaWTIWBK0lyhUmRL
JiGQCR7hkUq6DgrJKzNzyxRRzFYK5ay0ZoiVpoHZ9bn1tu/9Ab+9vahpsyfM
CgwICLh4dZkgOtCZLnQnlDB6cDM96cVtRHIHscTTn4EMYghDGcZIRpHEaMaQ
zDhSSCWNCUxkMulMJYNMsshhNrkUUMhCFlHEYkop5zVep4LlrKCKtWxgIzXU
soU6PmQbO/mIPezlM/axn3oO0sBhGjnCUZo5yY+c4WdaaOVXznOJNtq5zJ90
1L8LwYTQjZsIpxeRRHMnMdzNPcTRj/4MZTijGMNYUkhlElN4iulkkEk2Oczk
aWYzl+eZzwu8TBHFlFDGClZRxWrWsZ5NbOZdtlDHNnawi918yn4OUM9BGjnC
VxzjOE18wwlO8h0/0cov/MZ52rnC3/xDoCMOojNdCSaEboQSxo2EE0Ek0fQm
hrvoQyz3Ekc8/ejPAAYxmOGMYBQJJDKaZMaRQippTGAijzKF6WQygyyyyWEm
uTzDXPIpoJCXeIXFvEoJ5SylgkpWsJJVVLGGdaxnI9VsYjM1vM8H1FLHTvby
OfUcpIHDNHKULznGcZpo5nt+4BSnOcNZWvmdNv76/8EEEkQnriGUG+hBOBFE
EU1v4rmPAQxmBCNJIJH7GUsKDzKZx3icdKYygyyyyWUOeTzLc+QznwUUUMgi
iimhlDKWUUElb7CaNazjTTZQzVtsoY6tbGcnu/iYPRzgEF9wjCaa+ZbTtHCW
c1zgEu1c5t+r/ToGBFxHCN0JpSe3cCuRRNGb2+lLLHH0YyCDGMJQhpFAEsk8
QCrjeYiHmcQjpDOdDLLIJoc55DGPBbxIIUWUsIRSylnKMlZSzdu8w3vUUEsd
W9nODnbzCXvYxwEaOMRhvuYEp2ihlXNc4CJ/0EY7V+jQSUe6Esy1hNCd6wmj
B+FEEEkMfehLLHEMYAjDGUkiSYwlmfGkMZEnSOdJpjKNTGaQRQ6zyCWPueQz
j0IWUswSSimjgkqWs5b/APcQ9TM=
  "]}, 
  TagBox[
   StyleBox[
    DynamicModuleBox[{Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
     Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
     1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {}, 
     Typeset`size$$ = {
     481.25069456100465`, {193.12944339953827`, 198.86137720353435`}}, 
     Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = False,
      Typeset`keyframeActionsQ$$ = False, Typeset`keyframeList$$ = {}}, 
     DynamicBox[Manipulate`ManipulateBoxes[
      1, StandardForm, "Variables" :> {}, "ControllerVariables" :> {}, 
       "OtherVariables" :> {
        Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
         Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
         Typeset`specs$$, Typeset`size$$, Typeset`update$$, 
         Typeset`initDone$$, Typeset`skipInitDone$$, 
         Typeset`keyframeActionsQ$$, Typeset`keyframeList$$}, "Body" :> 
       Column[{
          Style[
          "\:041d\:0430\:0441\:0442\:0440\:043e\:0439\:043a\:0438 \
\:0410\:0417\:0421", Bold, 18, FontFamily -> "Arial"], 
          
          Grid[{{"\:0423\:0440\:043e\:0432\:0435\:043d\:044c \:0437\:0430\
\:0433\:0440\:0443\:0436\:0435\:043d\:043d\:043e\:0441\:0442\:0438:", 
             RadioButtonBar[
              
              Dynamic[$CellContext`level$$, ($CellContext`level$$ = #; \
$CellContext`updateSystem[])& ], {
              "\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439" -> 
               "\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439 (250 \
\:043c\:0430\:0448\:0438\:043d)", 
               "\:0421\:0440\:0435\:0434\:043d\:0438\:0439" -> 
               "\:0421\:0440\:0435\:0434\:043d\:0438\:0439 (500 \:043c\:0430\
\:0448\:0438\:043d)", "\:041f\:043b\:043e\:0442\:043d\:044b\:0439" -> 
               "\:041f\:043b\:043e\:0442\:043d\:044b\:0439 (1000 \:043c\:0430\
\:0448\:0438\:043d)"}, Appearance -> "Vertical"]}}], 
          Dynamic[
           Panel[
            Column[{
              Style[
              "\:0422\:0435\:043a\:0443\:0449\:0438\:0439 \:0443\:0440\:043e\
\:0432\:0435\:043d\:044c: " <> $CellContext`level$$, Bold], 
              
              OpenerView[{
               "\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \:0432\:0440\
\:0435\:043c\:0435\:043d\:0430 \:043f\:0440\:0438\:0431\:044b\:0442\:0438\
\:044f", 
                
                Column[{
                 "\:041f\:0435\:0440\:0432\:044b\:0435 10 \:0437\:043d\:0430\
\:0447\:0435\:043d\:0438\:0439:", 
                  Take[
                   
                   Switch[$CellContext`level$$, 
                    "\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439", \
$CellContext`light$$, 
                    "\:0421\:0440\:0435\:0434\:043d\:0438\:0439", \
$CellContext`medium$$, 
                    "\:041f\:043b\:043e\:0442\:043d\:044b\:0439", \
$CellContext`hard$$], 10], 
                  Button[
                  "\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \:043f\
\:043e\:043b\:043d\:044b\:0439 \:0441\:043f\:0438\:0441\:043e\:043a", 
                   CreateDialog[
                    TextCell[
                    ToString[
                    
                    Switch[$CellContext`level$$, 
                    "\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439", \
$CellContext`light$$, 
                    "\:0421\:0440\:0435\:0434\:043d\:0438\:0439", \
$CellContext`medium$$, 
                    "\:041f\:043b\:043e\:0442\:043d\:044b\:0439", \
$CellContext`hard$$]], PageWidth -> 600]]]}]}]}]]], 
          
          Grid[{{"\:0422\:0435\:043a\:0443\:0449\:0438\:0439 \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c:", 
             Dynamic[
              PopupMenu[
               
               Dynamic[$CellContext`currentProfile$$, \
($CellContext`currentProfile$$ = #; $CellContext`loadProfile[]; Null)& ], 
               Keys[$CellContext`profiles$$], ImageSize -> 200]]}, {
            "\:041d\:043e\:0432\:044b\:0439 \:043f\:0440\:043e\:0444\:0438\
\:043b\:044c:", 
             InputField[
              Dynamic[$CellContext`newProfileName$$], String, FieldHint -> 
              "\:0412\:0432\:0435\:0434\:0438\:0442\:0435 \:0438\:043c\:044f \
\:043f\:0440\:043e\:0444\:0438\:043b\:044f"]}, {"", 
             Row[{
               Button["\:0421\:043e\:0437\:0434\:0430\:0442\:044c", 
                If[
                 And[$CellContext`newProfileName$$ != "", 
                  Not[
                   
                   KeyExistsQ[$CellContext`profiles$$, \
$CellContext`newProfileName$$]]], \
$CellContext`profiles$$[$CellContext`newProfileName$$] = <|
                   "Columns" -> $CellContext`numColumns$$, 
                    "RColumns" -> $CellContext`numRight$$, 
                    "Cashiers" -> $CellContext`numCashiers$$, 
                    "FillingSpeed" -> $CellContext`fillingSpeed$$, 
                    "EndTime" -> $CellContext`endTime$$, 
                    "Level" -> $CellContext`level$$|>; \
$CellContext`currentProfile$$ = $CellContext`newProfileName$$; \
$CellContext`newProfileName$$ = ""; Null]], 
               Button[
               "\:0421\:043e\:0445\:0440\:0430\:043d\:0438\:0442\:044c", \
$CellContext`profiles$$[$CellContext`currentProfile$$] = <|
                  "Columns" -> $CellContext`numColumns$$, 
                   "RColumns" -> $CellContext`numRight$$, 
                   "Cashiers" -> $CellContext`numCashiers$$, 
                   "FillingSpeed" -> $CellContext`fillingSpeed$$, 
                   "EndTime" -> $CellContext`endTime$$, 
                   "Level" -> $CellContext`level$$|>; Null], 
               Button["\:0423\:0434\:0430\:043b\:0438\:0442\:044c", 
                If[
                 And[$CellContext`currentProfile$$ != "Default", 
                  
                  KeyExistsQ[$CellContext`profiles$$, \
$CellContext`currentProfile$$]], 
                 KeyDropFrom[$CellContext`profiles$$, \
$CellContext`currentProfile$$]; $CellContext`currentProfile$$ = 
                  "Default"; $CellContext`loadProfile[]; Null], Enabled -> 
                Dynamic[$CellContext`currentProfile$$ != "Default"]]}]}}], 
          
          Grid[{{"\:041e\:0431\:0449\:0435\:0435 \:043a\:043e\:043b\:0438\
\:0447\:0435\:0441\:0442\:0432\:043e \:043a\:043e\:043b\:043e\:043d\:043e\
\:043a:", 
             Slider[
              
              Dynamic[$CellContext`numColumns$$, ($CellContext`numColumns$$ = \
#; If[$CellContext`numRight$$ > $CellContext`numColumns$$, \
$CellContext`numRight$$ = $CellContext`numColumns$$]; \
$CellContext`updateSystem[])& ], {1, 20, 1}, Appearance -> "Labeled"]}, {
            "\:041f\:0440\:0430\:0432\:044b\:0435 \:043a\:043e\:043b\:043e\
\:043d\:043a\:0438:", 
             Dynamic[
              Row[{
                Slider[
                 Dynamic[$CellContext`numRight$$], {
                 0, $CellContext`numColumns$$, 1}, Appearance -> 
                 "Labeled"]}]]}, {
            "\:041a\:0430\:0441\:0441\:0438\:0440\:043e\:0432:", 
             Slider[
              Dynamic[$CellContext`numCashiers$$], {1, 10, 1}, Appearance -> 
              "Labeled"]}, {
            "\:0421\:043a\:043e\:0440\:043e\:0441\:0442\:044c \:0437\:0430\
\:043f\:0440\:0430\:0432\:043a\:0438 (\:043b/\:043c\:0438\:043d):", 
             Slider[
              Dynamic[$CellContext`fillingSpeed$$], {20, 80, 1}, Appearance -> 
              "Labeled"]}, {
            "\:041e\:043a\:043e\:043d\:0447\:0430\:043d\:0438\:0435 \:0441\
\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:0438 (\:043c\:0438\:043d\:0443\
\:0442\:044b):", 
             Slider[
              Dynamic[$CellContext`endTime$$], {1, 1440, 1}, Appearance -> 
              "Labeled"]}}], 
          Button[
           Style[
           "\:0417\:0430\:043f\:0443\:0441\:0442\:0438\:0442\:044c \:0441\
\:0438\:043c\:0443\:043b\:044f\:0446\:0438\:044e", Bold, 14], 
           $CellContext`initAndRun[], ImageSize -> 250, Background -> 
           LightBlue], 
          Button[
           Style[
           "\:041f\:043e\:043a\:0430\:0437\:0430\:0442\:044c \:043b\:0443\
\:0447\:0448\:0438\:0435 \:043d\:0430\:0441\:0442\:0440\:043e\:0439\:043a\
\:0438", Bold, 12], 
           $CellContext`showBestSimulation[], ImageSize -> 250, Background -> 
           LightOrange]}], "Specifications" :> {}, 
       "Options" :> {
        ControlPlacement -> Left, Paneled -> True, FrameMargins -> 20, 
         AppearanceElements -> None, TrackedSymbols :> {}}, 
       "DefaultOptions" :> {}],
      ImageSizeCache->{
       548.3506945610045, {224.7294433995383, 230.46137720353437`}},
      SingleEvaluation->True],
     Deinitialization:>None,
     DynamicModuleValues:>{},
     Initialization:>((If[Length[
           Keys[$CellContext`profiles$$]] == 
         0, $CellContext`profiles$$["Default"] = <|
           "Columns" -> 4, "RColumns" -> 2, "Cashiers" -> 2, "FillingSpeed" -> 
            20, "EndTime" -> 1440, "Level" -> 
            "\:0421\:0440\:0435\:0434\:043d\:0438\:0439"|>; 
         Print["\:0421\:043e\:0437\:0434\:0430\:043d Default \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c"]]; $CellContext`loadProfile[] := If[
          
          KeyExistsQ[$CellContext`profiles$$, $CellContext`currentProfile$$], \
{$CellContext`numColumns$$, $CellContext`numRight$$, \
$CellContext`numCashiers$$, $CellContext`fillingSpeed$$, \
$CellContext`endTime$$, $CellContext`level$$} = Lookup[
             $CellContext`profiles$$[$CellContext`currentProfile$$], {
             "Columns", "RColumns", "Cashiers", "FillingSpeed", "EndTime", 
              "Level"}]; $CellContext`updateSystem[]; 
          Print["\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \
\:043f\:0440\:043e\:0444\:0438\:043b\:044c '", $CellContext`currentProfile$$, 
            "'"]; Null]; $CellContext`loadProfile[]; \
$CellContext`currentProfile$$ = If[
          KeyExistsQ[$CellContext`profiles$$, "Default"], "Default", 
          First[
           Keys[$CellContext`profiles$$]]]; $CellContext`loadProfile[] := (If[
           
           KeyExistsQ[$CellContext`profiles$$, \
$CellContext`currentProfile$$], {$CellContext`numColumns$$, \
$CellContext`numRight$$, $CellContext`numCashiers$$, \
$CellContext`fillingSpeed$$, $CellContext`endTime$$, $CellContext`level$$} = 
            Lookup[
              $CellContext`profiles$$[$CellContext`currentProfile$$], {
              "Columns", "RColumns", "Cashiers", "FillingSpeed", "EndTime", 
               "Level"}]; $CellContext`updateSystem[]; 
           Print["\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\
\:0440\:043e\:0444\:0438\:043b\:044c '", $CellContext`currentProfile$$, "'"]; 
           Null]; Null); $CellContext`updateSystem[] := \
($CellContext`$arrivals$$ = 
         Switch[$CellContext`level$$, 
           "\:0421\:0432\:043e\:0431\:043e\:0434\:043d\:044b\:0439", 
           Select[$CellContext`light$$, # <= $CellContext`endTime$$& ], 
           "\:0421\:0440\:0435\:0434\:043d\:0438\:0439", 
           Select[$CellContext`medium$$, # <= $CellContext`endTime$$& ], 
           "\:041f\:043b\:043e\:0442\:043d\:044b\:0439", 
           
           Select[$CellContext`hard$$, # <= $CellContext`endTime$$& ]]); \
$CellContext`initializeRandomData[] := 
        Module[{$CellContext`nClients$ = 
           Length[$CellContext`$arrivals$$]}, $CellContext`$tankSides$$ = 
           RandomChoice[{
             "left", "right"}, $CellContext`nClients$]; \
$CellContext`$fuelVolume$$ = 
           RandomReal[{20, 
             60}, $CellContext`nClients$]; $CellContext`$paymentTimes$$ = 
           RandomReal[{
             0.5, 2}, $CellContext`nClients$]; $CellContext`$paymentTypes$$ = 
           RandomChoice[{
             "card", "cash"}, $CellContext`nClients$]; \
$CellContext`$purchasesQ$$ = 
           RandomChoice[{
             True, False}, $CellContext`nClients$]; \
$CellContext`$columnSides$$ = Join[
             ConstantArray["right", 
              
              If[$CellContext`numRight$$ == $CellContext`numColumns$$, \
$CellContext`numColumns$$, $CellContext`numRight$$]], 
             ConstantArray["left", 
              
              If[$CellContext`numColumns$$ - $CellContext`numRight$$ > 
               0, $CellContext`numColumns$$ - $CellContext`numRight$$, 
               0]]]]; $CellContext`initAndRun[] := \
($CellContext`updateSystem[]; $CellContext`initializeRandomData[]; \
$CellContext`$columnQueues$$ = 
          Table[{}, {$CellContext`numColumns$$}]; \
$CellContext`initSystem[$CellContext`numColumns$$, \
$CellContext`$columnSides$$, $CellContext`fillingSpeed$$, \
$CellContext`numCashiers$$, $CellContext`$arrivals$$, \
$CellContext`$tankSides$$, $CellContext`$fuelVolume$$, \
$CellContext`$paymentTimes$$, $CellContext`$paymentTypes$$, \
$CellContext`$purchasesQ$$]; \
$CellContext`simulateSystem[$CellContext`currentProfile$$, \
$CellContext`endTime$$]); $CellContext`loadProfile[]); 
      Typeset`initDone$$ = True),
     SynchronousInitialization->True,
     UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
     UnsavedVariables:>{Typeset`initDone$$},
     UntrackedVariables:>{Typeset`size$$}], "Manipulate",
    Deployed->True,
    StripOnInput->False],
   Manipulate`InterpretManipulate[1]],
  DynamicModuleValues:>{}]], "Output",
 CellChangeTimes->{{3.9572364436244984`*^9, 3.957236448795313*^9}},
 CellLabel->"Out[11]=",ExpressionUUID->"7f2e4fcc-b79d-e941-b579-2f4e5d002bfe"],

Cell[CellGroupData[{

Cell[BoxData["\<\"\:0421\:043e\:0437\:0434\:0430\:043d Default \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c\"\>"], "Print",
 CellChangeTimes->{3.957236448795313*^9},
 CellLabel->"",ExpressionUUID->"d1366376-6aa8-3d42-b71e-050aad9a22a3"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c '\"\>", "\[InvisibleSpace]", "\<\"Default\"\>",
    "\[InvisibleSpace]", "\<\"'\"\>"}],
  SequenceForm[
  "\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\:0440\:043e\:0444\
\:0438\:043b\:044c '", "Default", "'"],
  Editable->False]], "Print",
 CellChangeTimes->{3.957236448795313*^9},
 CellLabel->"",ExpressionUUID->"2eed6af3-ebe2-4f49-9886-abdcdcb6756f"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\:0440\
\:043e\:0444\:0438\:043b\:044c '\"\>", "\[InvisibleSpace]", "\<\"Default\"\>",
    "\[InvisibleSpace]", "\<\"'\"\>"}],
  SequenceForm[
  "\:0417\:0430\:0433\:0440\:0443\:0436\:0435\:043d \:043f\:0440\:043e\:0444\
\:0438\:043b\:044c '", "Default", "'"],
  Editable->False]], "Print",
 CellChangeTimes->{3.957236448795313*^9},
 CellLabel->"",ExpressionUUID->"d6a5136e-e1dc-3a47-9caa-47f47efb3394"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1417.5, 729.75},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification:>1. Inherited,
FrontEndVersion->"14.1 for Microsoft Windows (64-bit) (July 16, 2024)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"331150d0-c938-6342-bcab-30314f93463d"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[576, 22, 160, 3, 43, "Subsubsection",ExpressionUUID->"f6e5f515-a0a9-1a4c-a002-55b3038487c8"],
Cell[739, 27, 59069, 1321, 4299, "Input",ExpressionUUID->"b25d9a1d-9bb2-9640-be46-786ab039ab70"]
}, Open  ]],
Cell[CellGroupData[{
Cell[59845, 1353, 158, 3, 43, "Subsubsection",ExpressionUUID->"1b5c838c-91bb-914a-95d6-b76e1ea02adb"],
Cell[60006, 1358, 58664, 1026, 3455, "Input",ExpressionUUID->"1bbff6d6-4a6b-cf45-87a0-53e5dae71352"],
Cell[CellGroupData[{
Cell[118695, 2388, 208, 3, 28, "Input",ExpressionUUID->"47f5a0fe-41a4-e547-97be-2344b8df96f9"],
Cell[118906, 2393, 19306, 371, 472, "Output",ExpressionUUID->"7f2e4fcc-b79d-e941-b579-2f4e5d002bfe"],
Cell[CellGroupData[{
Cell[138237, 2768, 236, 3, 22, "Print",ExpressionUUID->"d1366376-6aa8-3d42-b71e-050aad9a22a3"],
Cell[138476, 2773, 507, 10, 22, "Print",ExpressionUUID->"2eed6af3-ebe2-4f49-9886-abdcdcb6756f"],
Cell[138986, 2785, 507, 10, 22, "Print",ExpressionUUID->"d6a5136e-e1dc-3a47-9caa-47f47efb3394"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

